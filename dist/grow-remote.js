/** @param {NS} ns */
function buildServerList(ns) {
    let serversToScan = ['home'];
    let serverList = [];
    while (serversToScan.length > 0) {
        const server = serversToScan.pop();
        const neighbors = ns.scan(server);
        for (const neighbor of neighbors) {
            if (neighbor != 'home' && !serverList.includes(neighbor)) {
                serversToScan.push(neighbor);
                serverList.push(neighbor);
            }
        }
    }
    return serverList;
}
/** @param {NS} ns */
export async function main(ns) {
    const runningScript = ns.getRunningScript();
    const numThreads = runningScript.threads;
    while (true) {
        let server_list = buildServerList(ns, 'home');
        ns.print('server list:\n' + server_list);
        for (const server of server_list) {
            await ns.grow(server, { threads: numThreads });
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3Jvdy1yZW1vdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zY3JpcHRzL2dyb3ctcmVtb3RlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQjtBQUNyQixTQUFTLGVBQWUsQ0FBQyxFQUFFO0lBQ3ZCLElBQUksYUFBYSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0IsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO0lBRXBCLE9BQU8sYUFBYSxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQUU7UUFDM0IsTUFBTSxNQUFNLEdBQUcsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ25DLE1BQU0sU0FBUyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFbEMsS0FBSyxNQUFNLFFBQVEsSUFBSSxTQUFTLEVBQUU7WUFDOUIsSUFBSSxRQUFRLElBQUUsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDcEQsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDN0IsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUM3QjtTQUNKO0tBQ0o7SUFFRCxPQUFPLFVBQVUsQ0FBQztBQUN0QixDQUFDO0FBRUQscUJBQXFCO0FBQ3JCLE1BQU0sQ0FBQyxLQUFLLFVBQVUsSUFBSSxDQUFDLEVBQUU7SUFDekIsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUMsTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUV6QyxPQUFPLElBQUksRUFBRTtRQUNULElBQUksV0FBVyxHQUFHLGVBQWUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFFOUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxXQUFXLENBQUMsQ0FBQztRQUV6QyxLQUFLLE1BQU0sTUFBTSxJQUFJLFdBQVcsRUFBRTtZQUM5QixNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7U0FDbEQ7S0FDSjtBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQHBhcmFtIHtOU30gbnMgKi9cbmZ1bmN0aW9uIGJ1aWxkU2VydmVyTGlzdChucykge1xuICAgIGxldCBzZXJ2ZXJzVG9TY2FuID0gWydob21lJ107XG4gICAgbGV0IHNlcnZlckxpc3QgPSBbXTtcblxuICAgIHdoaWxlIChzZXJ2ZXJzVG9TY2FuLmxlbmd0aD4wKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlciA9IHNlcnZlcnNUb1NjYW4ucG9wKCk7XG4gICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IG5zLnNjYW4oc2VydmVyKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIG5laWdoYm9ycykge1xuICAgICAgICAgICAgaWYgKG5laWdoYm9yIT0naG9tZScgJiYgIXNlcnZlckxpc3QuaW5jbHVkZXMobmVpZ2hib3IpKSB7XG4gICAgICAgICAgICAgICAgc2VydmVyc1RvU2Nhbi5wdXNoKG5laWdoYm9yKTtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJMaXN0LnB1c2gobmVpZ2hib3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlcnZlckxpc3Q7XG59XG5cbi8qKiBAcGFyYW0ge05TfSBucyAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1haW4obnMpIHtcbiAgICBjb25zdCBydW5uaW5nU2NyaXB0ID0gbnMuZ2V0UnVubmluZ1NjcmlwdCgpO1xuICAgIGNvbnN0IG51bVRocmVhZHMgPSBydW5uaW5nU2NyaXB0LnRocmVhZHM7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBsZXQgc2VydmVyX2xpc3QgPSBidWlsZFNlcnZlckxpc3QobnMsICdob21lJyk7XG5cbiAgICAgICAgbnMucHJpbnQoJ3NlcnZlciBsaXN0OlxcbicgKyBzZXJ2ZXJfbGlzdCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBzZXJ2ZXIgb2Ygc2VydmVyX2xpc3QpIHtcbiAgICAgICAgICAgIGF3YWl0IG5zLmdyb3coc2VydmVyLCB7IHRocmVhZHM6IG51bVRocmVhZHMgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=