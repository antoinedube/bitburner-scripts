{"ctor":"BitburnerSaveObject","data":{"PlayerSave":"{\"ctor\":\"PlayerObject\",\"data\":{\"hp\":{\"current\":33,\"max\":33},\"skills\":{\"hacking\":1020,\"strength\":231,\"defense\":231,\"dexterity\":231,\"agility\":231,\"charisma\":2,\"intelligence\":215},\"exp\":{\"hacking\":1921727713.735731,\"strength\":89257.97314587687,\"defense\":89257.97314587687,\"dexterity\":89257.97314587687,\"agility\":89257.97314587687,\"charisma\":0,\"intelligence\":434416.9749740632},\"mults\":{\"hacking_chance\":2.0448060848327985,\"hacking_speed\":2.0475411773903636,\"hacking_money\":2.132904306174801,\"hacking_grow\":1.85469939667374,\"hacking\":2.7816975975741114,\"hacking_exp\":3.541287680845848,\"strength\":1.85469939667374,\"strength_exp\":2.34619473679228,\"defense\":1.85469939667374,\"defense_exp\":2.34619473679228,\"dexterity\":1.85469939667374,\"dexterity_exp\":2.34619473679228,\"agility\":1.85469939667374,\"agility_exp\":2.34619473679228,\"charisma\":2.6336731432767104,\"charisma_exp\":2.0580655585897194,\"hacknet_node_money\":4.964954531000287,\"hacknet_node_purchase_cost\":0.37146629382453733,\"hacknet_node_ram_cost\":0.4855768546725978,\"hacknet_node_core_cost\":0.4855768546725978,\"hacknet_node_level_cost\":0.4127403264717081,\"company_rep\":1.6269292953278418,\"faction_rep\":1.6269292953278418,\"work_money\":1.85469939667374,\"crime_success\":2.3102395993655356,\"crime_money\":2.3102395993655356,\"bladeburner_max_stamina\":1.1400000000000001,\"bladeburner_stamina_gain\":1.1400000000000001,\"bladeburner_analysis\":1.1400000000000001,\"bladeburner_success_chance\":1.1400000000000001},\"augmentations\":[{\"name\":\"NeuroFlux Governor\",\"level\":24},{\"level\":1,\"name\":\"Hacknet Node Core Direct-Neural Interface\"},{\"level\":1,\"name\":\"Hacknet Node Kernel Direct-Neural Interface\"},{\"level\":1,\"name\":\"Hacknet Node CPU Architecture Neural-Upload\"},{\"level\":1,\"name\":\"Hacknet Node Cache Architecture Neural-Upload\"},{\"level\":1,\"name\":\"Hacknet Node NIC Architecture Neural-Upload\"},{\"level\":1,\"name\":\"Cranial Signal Processors - Gen I\"},{\"level\":1,\"name\":\"Cranial Signal Processors - Gen II\"},{\"level\":1,\"name\":\"BitWire\"},{\"level\":1,\"name\":\"Synaptic Enhancement Implant\"},{\"level\":1,\"name\":\"Neurotrainer I\"},{\"level\":1,\"name\":\"Cranial Signal Processors - Gen III\"},{\"level\":1,\"name\":\"Neural-Retention Enhancement\"},{\"level\":1,\"name\":\"Embedded Netburner Module\"},{\"level\":1,\"name\":\"CRTX42-AA Gene Modification\"},{\"level\":1,\"name\":\"Artificial Synaptic Potentiation\"},{\"level\":1,\"name\":\"Neurotrainer II\"}],\"queuedAugmentations\":[{\"level\":1,\"name\":\"Neuralstimulator\"},{\"level\":1,\"name\":\"Embedded Netburner Module Core Implant\"},{\"level\":1,\"name\":\"Enhanced Myelin Sheathing\"},{\"level\":1,\"name\":\"Cranial Signal Processors - Gen IV\"},{\"level\":1,\"name\":\"The Black Hand\"},{\"level\":1,\"name\":\"DataJack\"},{\"level\":25,\"name\":\"NeuroFlux Governor\"},{\"level\":26,\"name\":\"NeuroFlux Governor\"},{\"level\":27,\"name\":\"NeuroFlux Governor\"},{\"level\":28,\"name\":\"NeuroFlux Governor\"},{\"level\":29,\"name\":\"NeuroFlux Governor\"},{\"level\":30,\"name\":\"NeuroFlux Governor\"},{\"level\":31,\"name\":\"NeuroFlux Governor\"},{\"level\":32,\"name\":\"NeuroFlux Governor\"}],\"city\":\"Sector-12\",\"bitNodeN\":12,\"corporation\":null,\"gang\":null,\"bladeburner\":null,\"currentServer\":\"powerhouse-fitness\",\"factions\":[\"The Black Hand\"],\"factionInvitations\":[\"Netburners\",\"Slum Snakes\",\"CyberSec\",\"Sector-12\",\"NiteSec\",\"BitRunners\",\"The Syndicate\"],\"factionRumors\":{\"ctor\":\"JSONSet\",\"data\":[\"The Covenant\",\"Bladeburners\"]},\"hacknetNodes\":[\"hacknet-server-0\",\"hacknet-server-1\",\"hacknet-server-2\",\"hacknet-server-3\",\"hacknet-server-4\",\"hacknet-server-5\",\"hacknet-server-6\",\"hacknet-server-7\",\"hacknet-server-8\",\"hacknet-server-9\",\"hacknet-server-10\",\"hacknet-server-11\",\"hacknet-server-12\",\"hacknet-server-13\",\"hacknet-server-14\",\"hacknet-server-15\",\"hacknet-server-16\",\"hacknet-server-17\",\"hacknet-server-18\",\"hacknet-server-19\"],\"has4SData\":false,\"has4SDataTixApi\":false,\"hashManager\":{\"ctor\":\"HashManager\",\"data\":{\"capacity\":20971520,\"hashes\":15361398.629642367,\"upgrades\":{\"Sell for Money\":7335,\"Sell for Corporation Funds\":0,\"Reduce Minimum Security\":960,\"Increase Maximum Money\":1028,\"Improve Studying\":250,\"Improve Gym Training\":0,\"Exchange for Corporation Research\":0,\"Exchange for Bladeburner Rank\":0,\"Exchange for Bladeburner SP\":0,\"Generate Coding Contract\":0,\"Company Favor\":0}}},\"hasTixApiAccess\":false,\"hasWseAccount\":false,\"jobs\":{},\"karma\":-15620.75,\"numPeopleKilled\":0,\"location\":\"Alpha Enterprises\",\"money\":239496236477.63977,\"moneySourceA\":{\"ctor\":\"MoneySourceTracker\",\"data\":{\"bladeburner\":0,\"casino\":0,\"class\":0,\"codingcontract\":0,\"corporation\":0,\"crime\":0,\"gang\":0,\"hacking\":2324308327369.0947,\"hacknet\":15393509499698.795,\"hacknet_expenses\":0,\"hospitalization\":0,\"infiltration\":0,\"sleeves\":1071095677.7495074,\"stock\":0,\"total\":239496235364.63977,\"work\":0,\"servers\":-16980089415976.428,\"other\":-314200000,\"augmentations\":-498989071404.5264}},\"moneySourceB\":{\"ctor\":\"MoneySourceTracker\",\"data\":{\"bladeburner\":0,\"casino\":0,\"class\":0,\"codingcontract\":0,\"corporation\":0,\"crime\":0,\"gang\":0,\"hacking\":2562473326275.635,\"hacknet\":27151024852254.383,\"hacknet_expenses\":0,\"hospitalization\":0,\"infiltration\":0,\"sleeves\":1704754985.809385,\"stock\":0,\"total\":243803565953.3214,\"work\":0,\"servers\":-28946021305833.695,\"other\":-1256800000,\"augmentations\":-524121261728.77936}},\"playtimeSinceLastAug\":89124800,\"playtimeSinceLastBitnode\":169417000,\"lastAugReset\":1703957807911,\"lastNodeReset\":1703877515456,\"purchasedServers\":[\"neighbor-0\",\"neighbor-1\",\"neighbor-2\",\"neighbor-3\",\"neighbor-4\",\"neighbor-5\",\"neighbor-6\",\"neighbor-7\",\"neighbor-8\",\"neighbor-9\",\"neighbor-10\",\"neighbor-11\",\"neighbor-12\",\"neighbor-13\",\"neighbor-14\",\"neighbor-15\",\"neighbor-16\",\"neighbor-17\",\"neighbor-18\"],\"scriptProdSinceLastAug\":3408749247106.673,\"sleeves\":[{\"ctor\":\"Sleeve\",\"data\":{\"hp\":{\"current\":23,\"max\":23},\"skills\":{\"hacking\":1,\"strength\":136,\"defense\":136,\"dexterity\":136,\"agility\":136,\"charisma\":1,\"intelligence\":179},\"exp\":{\"hacking\":0,\"strength\":142484.10452891767,\"defense\":142484.10452891767,\"dexterity\":142484.10452891767,\"agility\":142484.10452891767,\"charisma\":0,\"intelligence\":142067.42944290765},\"mults\":{\"hacking_chance\":1,\"hacking_speed\":1,\"hacking_money\":1,\"hacking_grow\":1,\"hacking\":1,\"hacking_exp\":1,\"strength\":1,\"strength_exp\":1,\"defense\":1,\"defense_exp\":1,\"dexterity\":1,\"dexterity_exp\":1,\"agility\":1,\"agility_exp\":1,\"charisma\":1,\"charisma_exp\":1,\"hacknet_node_money\":1,\"hacknet_node_purchase_cost\":1,\"hacknet_node_ram_cost\":1,\"hacknet_node_core_cost\":1,\"hacknet_node_level_cost\":1,\"company_rep\":1,\"faction_rep\":1,\"work_money\":1,\"crime_success\":1,\"crime_money\":1,\"bladeburner_max_stamina\":1,\"bladeburner_stamina_gain\":1,\"bladeburner_analysis\":1,\"bladeburner_success_chance\":1},\"augmentations\":[],\"queuedAugmentations\":[],\"city\":\"Sector-12\",\"currentWork\":{\"ctor\":\"SleeveCrimeWork\",\"data\":{\"type\":\"CRIME\",\"tasksCompleted\":45,\"cyclesWorked\":15,\"crimeType\":\"Mug\"}},\"memory\":100,\"shock\":0,\"storedCycles\":283070,\"sync\":100}},{\"ctor\":\"Sleeve\",\"data\":{\"hp\":{\"current\":23,\"max\":23},\"skills\":{\"hacking\":1,\"strength\":136,\"defense\":136,\"dexterity\":136,\"agility\":136,\"charisma\":1,\"intelligence\":176},\"exp\":{\"hacking\":0,\"strength\":142484.10452891767,\"defense\":142484.10452891767,\"dexterity\":142484.10452891767,\"agility\":142484.10452891767,\"charisma\":0,\"intelligence\":128719.45344066303},\"mults\":{\"hacking_chance\":1,\"hacking_speed\":1,\"hacking_money\":1,\"hacking_grow\":1,\"hacking\":1,\"hacking_exp\":1,\"strength\":1,\"strength_exp\":1,\"defense\":1,\"defense_exp\":1,\"dexterity\":1,\"dexterity_exp\":1,\"agility\":1,\"agility_exp\":1,\"charisma\":1,\"charisma_exp\":1,\"hacknet_node_money\":1,\"hacknet_node_purchase_cost\":1,\"hacknet_node_ram_cost\":1,\"hacknet_node_core_cost\":1,\"hacknet_node_level_cost\":1,\"company_rep\":1,\"faction_rep\":1,\"work_money\":1,\"crime_success\":1,\"crime_money\":1,\"bladeburner_max_stamina\":1,\"bladeburner_stamina_gain\":1,\"bladeburner_analysis\":1,\"bladeburner_success_chance\":1},\"augmentations\":[],\"queuedAugmentations\":[],\"city\":\"Sector-12\",\"currentWork\":{\"ctor\":\"SleeveCrimeWork\",\"data\":{\"type\":\"CRIME\",\"tasksCompleted\":45,\"cyclesWorked\":15,\"crimeType\":\"Mug\"}},\"memory\":100,\"shock\":0,\"storedCycles\":283070,\"sync\":100}},{\"ctor\":\"Sleeve\",\"data\":{\"hp\":{\"current\":23,\"max\":23},\"skills\":{\"hacking\":1,\"strength\":136,\"defense\":136,\"dexterity\":136,\"agility\":136,\"charisma\":1,\"intelligence\":176},\"exp\":{\"hacking\":0,\"strength\":142484.10452891767,\"defense\":142484.10452891767,\"dexterity\":142484.10452891767,\"agility\":142484.10452891767,\"charisma\":0,\"intelligence\":128682.05988337383},\"mults\":{\"hacking_chance\":1,\"hacking_speed\":1,\"hacking_money\":1,\"hacking_grow\":1,\"hacking\":1,\"hacking_exp\":1,\"strength\":1,\"strength_exp\":1,\"defense\":1,\"defense_exp\":1,\"dexterity\":1,\"dexterity_exp\":1,\"agility\":1,\"agility_exp\":1,\"charisma\":1,\"charisma_exp\":1,\"hacknet_node_money\":1,\"hacknet_node_purchase_cost\":1,\"hacknet_node_ram_cost\":1,\"hacknet_node_core_cost\":1,\"hacknet_node_level_cost\":1,\"company_rep\":1,\"faction_rep\":1,\"work_money\":1,\"crime_success\":1,\"crime_money\":1,\"bladeburner_max_stamina\":1,\"bladeburner_stamina_gain\":1,\"bladeburner_analysis\":1,\"bladeburner_success_chance\":1},\"augmentations\":[],\"queuedAugmentations\":[],\"city\":\"Sector-12\",\"currentWork\":{\"ctor\":\"SleeveCrimeWork\",\"data\":{\"type\":\"CRIME\",\"tasksCompleted\":45,\"cyclesWorked\":15,\"crimeType\":\"Mug\"}},\"memory\":100,\"shock\":0,\"storedCycles\":283070,\"sync\":100}},{\"ctor\":\"Sleeve\",\"data\":{\"hp\":{\"current\":23,\"max\":23},\"skills\":{\"hacking\":1,\"strength\":136,\"defense\":136,\"dexterity\":136,\"agility\":136,\"charisma\":1,\"intelligence\":176},\"exp\":{\"hacking\":0,\"strength\":142484.10452891767,\"defense\":142484.10452891767,\"dexterity\":142484.10452891767,\"agility\":142484.10452891767,\"charisma\":0,\"intelligence\":128682.83139255909},\"mults\":{\"hacking_chance\":1,\"hacking_speed\":1,\"hacking_money\":1,\"hacking_grow\":1,\"hacking\":1,\"hacking_exp\":1,\"strength\":1,\"strength_exp\":1,\"defense\":1,\"defense_exp\":1,\"dexterity\":1,\"dexterity_exp\":1,\"agility\":1,\"agility_exp\":1,\"charisma\":1,\"charisma_exp\":1,\"hacknet_node_money\":1,\"hacknet_node_purchase_cost\":1,\"hacknet_node_ram_cost\":1,\"hacknet_node_core_cost\":1,\"hacknet_node_level_cost\":1,\"company_rep\":1,\"faction_rep\":1,\"work_money\":1,\"crime_success\":1,\"crime_money\":1,\"bladeburner_max_stamina\":1,\"bladeburner_stamina_gain\":1,\"bladeburner_analysis\":1,\"bladeburner_success_chance\":1},\"augmentations\":[],\"queuedAugmentations\":[],\"city\":\"Sector-12\",\"currentWork\":{\"ctor\":\"SleeveCrimeWork\",\"data\":{\"type\":\"CRIME\",\"tasksCompleted\":45,\"cyclesWorked\":15,\"crimeType\":\"Mug\"}},\"memory\":100,\"shock\":0,\"storedCycles\":283070,\"sync\":100}},{\"ctor\":\"Sleeve\",\"data\":{\"hp\":{\"current\":23,\"max\":23},\"skills\":{\"hacking\":1,\"strength\":136,\"defense\":136,\"dexterity\":136,\"agility\":136,\"charisma\":1,\"intelligence\":173},\"exp\":{\"hacking\":0,\"strength\":142484.10452891767,\"defense\":142484.10452891767,\"dexterity\":142484.10452891767,\"agility\":142484.10452891767,\"charisma\":0,\"intelligence\":117729.12392306191},\"mults\":{\"hacking_chance\":1,\"hacking_speed\":1,\"hacking_money\":1,\"hacking_grow\":1,\"hacking\":1,\"hacking_exp\":1,\"strength\":1,\"strength_exp\":1,\"defense\":1,\"defense_exp\":1,\"dexterity\":1,\"dexterity_exp\":1,\"agility\":1,\"agility_exp\":1,\"charisma\":1,\"charisma_exp\":1,\"hacknet_node_money\":1,\"hacknet_node_purchase_cost\":1,\"hacknet_node_ram_cost\":1,\"hacknet_node_core_cost\":1,\"hacknet_node_level_cost\":1,\"company_rep\":1,\"faction_rep\":1,\"work_money\":1,\"crime_success\":1,\"crime_money\":1,\"bladeburner_max_stamina\":1,\"bladeburner_stamina_gain\":1,\"bladeburner_analysis\":1,\"bladeburner_success_chance\":1},\"augmentations\":[],\"queuedAugmentations\":[],\"city\":\"Sector-12\",\"currentWork\":{\"ctor\":\"SleeveCrimeWork\",\"data\":{\"type\":\"CRIME\",\"tasksCompleted\":45,\"cyclesWorked\":15,\"crimeType\":\"Mug\"}},\"memory\":100,\"shock\":0,\"storedCycles\":283070,\"sync\":100}},{\"ctor\":\"Sleeve\",\"data\":{\"hp\":{\"current\":23,\"max\":23},\"skills\":{\"hacking\":1,\"strength\":136,\"defense\":136,\"dexterity\":136,\"agility\":136,\"charisma\":1,\"intelligence\":173},\"exp\":{\"hacking\":0,\"strength\":142484.10452891767,\"defense\":142484.10452891767,\"dexterity\":142484.10452891767,\"agility\":142484.10452891767,\"charisma\":0,\"intelligence\":117862.62575957252},\"mults\":{\"hacking_chance\":1,\"hacking_speed\":1,\"hacking_money\":1,\"hacking_grow\":1,\"hacking\":1,\"hacking_exp\":1,\"strength\":1,\"strength_exp\":1,\"defense\":1,\"defense_exp\":1,\"dexterity\":1,\"dexterity_exp\":1,\"agility\":1,\"agility_exp\":1,\"charisma\":1,\"charisma_exp\":1,\"hacknet_node_money\":1,\"hacknet_node_purchase_cost\":1,\"hacknet_node_ram_cost\":1,\"hacknet_node_core_cost\":1,\"hacknet_node_level_cost\":1,\"company_rep\":1,\"faction_rep\":1,\"work_money\":1,\"crime_success\":1,\"crime_money\":1,\"bladeburner_max_stamina\":1,\"bladeburner_stamina_gain\":1,\"bladeburner_analysis\":1,\"bladeburner_success_chance\":1},\"augmentations\":[],\"queuedAugmentations\":[],\"city\":\"Sector-12\",\"currentWork\":{\"ctor\":\"SleeveCrimeWork\",\"data\":{\"type\":\"CRIME\",\"tasksCompleted\":45,\"cyclesWorked\":15,\"crimeType\":\"Mug\"}},\"memory\":100,\"shock\":0,\"storedCycles\":283070,\"sync\":100}}],\"sleevesFromCovenant\":3,\"sourceFiles\":{\"ctor\":\"JSONMap\",\"data\":[[1,3],[2,3],[3,3],[4,3],[5,3],[10,3],[9,3],[12,13],[6,3],[7,3]]},\"exploits\":[\"N00dles\"],\"achievements\":[{\"ID\":\"FIRST_HACKNET_NODE\",\"unlockedOn\":1662043985194},{\"ID\":\"BRUTESSH.EXE\",\"unlockedOn\":1662055145998},{\"ID\":\"FTPCRACK.EXE\",\"unlockedOn\":1662059766003},{\"ID\":\"HACKNET_NODE_10M\",\"unlockedOn\":1662066426141},{\"ID\":\"CYBERSEC\",\"unlockedOn\":1662123294982},{\"ID\":\"INSTALL_1\",\"unlockedOn\":1662473253800},{\"ID\":\"NITESEC\",\"unlockedOn\":1662586146115},{\"ID\":\"RELAYSMTP.EXE\",\"unlockedOn\":1662599826142},{\"ID\":\"DONATION\",\"unlockedOn\":1663589558449},{\"ID\":\"NS2\",\"unlockedOn\":1664451835859},{\"ID\":\"FROZE\",\"unlockedOn\":1664473094691},{\"ID\":\"THE_BLACK_HAND\",\"unlockedOn\":1664552329001},{\"ID\":\"MAX_HACKNET_NODE\",\"unlockedOn\":1664798852132},{\"ID\":\"TOR\",\"unlockedOn\":1665066056909},{\"ID\":\"HTTPWORM.EXE\",\"unlockedOn\":1665074458530},{\"ID\":\"SQLINJECT.EXE\",\"unlockedOn\":1665081718922},{\"ID\":\"BITRUNNERS\",\"unlockedOn\":1665334933764},{\"ID\":\"30_HACKNET_NODE\",\"unlockedOn\":1665766590313},{\"ID\":\"DRAIN_SERVER\",\"unlockedOn\":1665837400497},{\"ID\":\"FORMULAS.EXE\",\"unlockedOn\":1665874707261},{\"ID\":\"DISCOUNT\",\"unlockedOn\":1665939874779},{\"ID\":\"WORKOUT\",\"unlockedOn\":1665946235177},{\"ID\":\"TRAVEL\",\"unlockedOn\":1666024890747},{\"ID\":\"DAEDALUS\",\"unlockedOn\":1666127536448},{\"ID\":\"THE_COVENANT\",\"unlockedOn\":1666177601953},{\"ID\":\"ILLUMINATI\",\"unlockedOn\":1666201654675},{\"ID\":\"SF1.1\",\"unlockedOn\":1666396556449},{\"ID\":\"REPUTATION_10M\",\"unlockedOn\":1668533490192},{\"ID\":\"GANG\",\"unlockedOn\":1668867250197},{\"ID\":\"FULL_GANG\",\"unlockedOn\":1668954907599},{\"ID\":\"GANG_MEMBER_POWER\",\"unlockedOn\":1668955027612},{\"ID\":\"COMBAT_3000\",\"unlockedOn\":1669208876810},{\"ID\":\"SF2.1\",\"unlockedOn\":1669423716199},{\"ID\":\"CORPORATION\",\"unlockedOn\":1669431816190},{\"ID\":\"HOSPITALIZED\",\"unlockedOn\":1671198038341},{\"ID\":\"SF3.1\",\"unlockedOn\":1671300458277},{\"ID\":\"CHALLENGE_BN1\",\"unlockedOn\":1671822590337},{\"ID\":\"SF4.1\",\"unlockedOn\":1674137591582},{\"ID\":\"SF5.1\",\"unlockedOn\":1675551633160},{\"ID\":\"N00DLES\",\"unlockedOn\":1677761263550},{\"ID\":\"SF10.1\",\"unlockedOn\":1680550899708},{\"ID\":\"SCRIPT_32GB\",\"unlockedOn\":1683499237184},{\"ID\":\"KARMA_1000000\",\"unlockedOn\":1683585524648},{\"ID\":\"FIRST_HACKNET_SERVER\",\"unlockedOn\":1686441026190},{\"ID\":\"HACKNET_SERVER_1B\",\"unlockedOn\":1686518683455},{\"ID\":\"MAX_CACHE\",\"unlockedOn\":1686519223506},{\"ID\":\"MAX_CORES\",\"unlockedOn\":1688038167678},{\"ID\":\"ALL_HACKNET_SERVER\",\"unlockedOn\":1688038167687},{\"ID\":\"MAX_HACKNET_SERVER\",\"unlockedOn\":1688038167689},{\"ID\":\"SF9.1\",\"unlockedOn\":1688302024803},{\"ID\":\"NEUROFLUX_255\",\"unlockedOn\":1689366941906},{\"ID\":\"FAST_BN\",\"unlockedOn\":1689431425450},{\"ID\":\"SF12.1\",\"unlockedOn\":1689714316805},{\"ID\":\"BLADEBURNER_DIVISION\",\"unlockedOn\":1696862815306},{\"ID\":\"SF6.1\",\"unlockedOn\":1697665718942},{\"ID\":\"SF7.1\",\"unlockedOn\":1699191969386},{\"ID\":\"BLADEBURNER_OVERCLOCK\",\"unlockedOn\":1701305531389}],\"terminalCommandHistory\":[\"run buy-hacknet-servers.js \",\"nano buy-hacknet-servers.js \",\"run bootstrap.js \",\"home ; run fetch-scripts.js \",\"connect The-Cave \",\"connect w0r1d_d43m0n \",\"analyze \",\"hack\",\"run bootstrap.js \",\"nano spend-hashes.js \",\"run bootstrap.js \",\"connect darkweb \",\"buy -l;\",\"home ; run buy-hacknet-servers.js\",\"run bootstrap.js \",\"run list-player-karma.js \",\"nano manage-sleeves.js \",\"run list-player-karma.js \",\"run bootstrap.js \",\"run list-player-karma.js \",\"nano manage-sleeves.js \",\"top\",\"kill manage-sleeves.js \",\"run manage-sleeves.js \",\"run bootstrap.js \",\"run buy-servers.js \",\"run bootstrap.js \",\"nano buy-hacknet-servers.js \",\"run buy-hacknet-servers.js \",\"nano spend-hashes.js \",\"run bootstrap.js \",\"nano spend-hashes.js \",\"nano bootstrap.js \",\"connect The-Cave \",\"connect w0r1d_d43m0n \",\"analyze \",\"hack\",\"nano bootstrap.js \",\"run b1t_flum3.exe \",\"run bootstrap.js \",\"home ; nano spend-hashes.js\",\"run b1t_flum3.exe \",\"run bootstrap.js \",\"run delete-servers.js \",\"top\",\"nano buy-servers.js \",\"run delete-servers.js \",\"run fetch-scripts.js \",\"run bootstrap.js \",\"home ; nano spend-hashes.js\"],\"lastUpdate\":1704046932667,\"lastSave\":1703989454646,\"totalPlaytime\":42003316200,\"currentWork\":{\"ctor\":\"FactionWork\",\"data\":{\"type\":\"FACTION\",\"singularity\":false,\"cyclesWorked\":436897,\"factionWorkType\":\"hacking\",\"factionName\":\"The Black Hand\"}},\"focus\":false,\"entropy\":0,\"identifier\":\"10c510f1398e51\"}}","AllServersSave":"{\"home\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"home\",\"httpPortOpen\":false,\"ip\":\"5.0.5.9\",\"isConnectedTo\":false,\"maxRam\":65536,\"messages\":[\"hackers-starting-handbook.lit\",\"j0.msg\",\"j1.msg\",\"csec-test.msg\",\"j2.msg\",\"nitesec-test.msg\",\"j3.msg\",\"j4.msg\",\"19dfj3l1nd.msg\"],\"organizationName\":\"Home PC\",\"programs\":[\"NUKE.exe\",\"b1t_flum3.exe\",\"Formulas.exe\",\"fl1ght.exe\",\"BruteSSH.exe\",\"ServerProfiler.exe\",\"DeepscanV1.exe\",\"FTPCrack.exe\",\"relaySMTP.exe\",\"AutoLink.exe\",\"HTTPWorm.exe\",\"DeepscanV2.exe\",\"SQLInject.exe\"],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"launch-hacking.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"import { scanAllNetwork, buildPath } from \\\"./scan.js\\\";\\nimport { buildHackingProgramList, countAvailablePrograms } from \\\"./hacking-programs.js\\\";\\n\\n/** @param {NS} ns */\\nasync function openPorts(ns, hackingPrograms, target) {\\n  for (const program of hackingPrograms) {\\n    if (ns.fileExists(program.executableName, \\\"home\\\")) {\\n      const executable = program['functionName'].bind(ns);\\n      await executable(target);\\n    }\\n  }\\n}\\n\\n/** @param {NS} ns */\\nfunction launchScript(ns, script, server) {\\n  const scriptRam = ns.getScriptRam(script);\\n  const availableRam = ns.getServerMaxRam(server) - ns.getServerUsedRam(server);\\n  const scriptNumThreads = ~~(availableRam / scriptRam);\\n\\n  if (scriptNumThreads > 0) {\\n    ns.exec(script, server, scriptNumThreads);\\n  }\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n\\n  const replace = false;  // Replace an existing script\\n\\n  while (true) {\\n    const fullServerList = scanAllNetwork(ns, 'home');\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    for (const server of filteredServerList) {\\n      ns.print(`Current server: ${server}`);\\n\\n      const playerHackingLevel = ns.getHackingLevel();\\n      const hackingPrograms = buildHackingProgramList(ns);\\n      const numberAvailablePrograms = countAvailablePrograms(ns, hackingPrograms);\\n\\n      // Check server level vs player level\\n      const machineHackingLevel = ns.getServerRequiredHackingLevel(server);\\n      ns.print(`Level player: ${playerHackingLevel}, level machine: ${machineHackingLevel}`);\\n\\n      // Check number of ports required vs number of programs available\\n      const requiredNumberOfPorts = ns.getServerNumPortsRequired(server);\\n      ns.print(`Required num ports: ${requiredNumberOfPorts}, number available programs: ${numberAvailablePrograms}`);\\n\\n      if (playerHackingLevel < machineHackingLevel) {\\n        ns.print('----------\\\\n');\\n        continue;\\n      }\\n\\n      if (numberAvailablePrograms < requiredNumberOfPorts) {\\n        ns.print('----------\\\\n');\\n        continue;\\n      }\\n\\n      if (!ns.hasRootAccess(server)) {\\n        await openPorts(ns, hackingPrograms, server);\\n        ns.nuke(server);\\n\\n        if (server == 'w0r1d_d43m0n') {\\n          ns.tprint('w0r1d_d43m0n is now root-accessible');\\n        }\\n      }\\n\\n      ns.print(`hasRootAccess: ${ns.hasRootAccess(server)}`);\\n\\n      const isBackdoorInstalled = ns.getServer(server).backdoorInstalled;\\n      ns.print(`isBackdoorInstalled: ${isBackdoorInstalled}`);\\n      if (ns.hasRootAccess(server) && !isBackdoorInstalled && server != 'w0r1d_d43m0n') {\\n        const path = await buildPath(ns, server);\\n        for (let item of path) {\\n          // ns.print(`Connecting to ${item} from ${ns.singularity.getCurrentServer()}`);\\n          if (!ns.singularity.connect(item)) {\\n            ns.print(`Error while connecting to ${item}`);\\n          };\\n        }\\n\\n        ns.print('Installing backdoor');\\n        await ns.singularity.installBackdoor();\\n        ns.print('Backdoor installed');\\n\\n        for (let item of path.reverse()) {\\n          if (!ns.singularity.connect(item)) {\\n            ns.print(`Error while connecting to ${item}`);\\n          };\\n        }\\n      }\\n\\n      if (replace) {\\n        ns.killall(server);\\n      }\\n\\n      if (replace || !ns.fileExists('hack-server.js', server)) {\\n        const scpStatus = ns.scp('hack-server.js', server, 'home');\\n        if (!scpStatus) {\\n          ns.print(`Failed to copy hack-server.js on ${server}`);\\n        }\\n      }\\n\\n      if (!ns.isRunning('hack-server.js', server)) {\\n        launchScript(ns, 'hack-server.js', server);\\n      }\\n\\n      ns.print('----------\\\\n');\\n    }\\n\\n    if (replace) {\\n      break;\\n    }\\n\\n    await ns.sleep(1000 * 5);\\n  }\\n}\\n\",\"filename\":\"launch-hacking.js\",\"server\":\"home\"}}],[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"home\"}}],[\"list-server-prices.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport async function main(ns) {\\n  for (let i = 2; i < 21; i++) {\\n    const serverRam = Math.pow(2.0, i);\\n    const serverCost = ns.getPurchasedServerCost(serverRam);\\n    ns.tprint(`Server ram: ${serverRam}`);\\n    ns.tprint(`Server cost: ${formatNumber(serverCost)}\\\\$`);\\n    ns.tprint(\\\"\\\\n\\\");\\n  }\\n}\\n\",\"filename\":\"list-server-prices.js\",\"server\":\"home\"}}],[\"scan.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport function scanAllNetwork(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nexport async function buildPath(ns, server) {\\n  let pathList = [['home']];\\n\\n  while (true) {\\n    const currentPath = pathList.pop();\\n    const lastItem = currentPath.pop();\\n    const neighbors = ns.scan(lastItem);\\n    const neighborsWithoutServers = neighbors.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-') && !currentPath.includes(name));\\n\\n    for (let neighbor of neighborsWithoutServers) {\\n      let newPath = currentPath.slice();\\n      newPath.push(lastItem);\\n      newPath.push(neighbor);\\n\\n      if (neighbor == server) {\\n        return newPath;\\n      }\\n\\n      pathList.unshift(newPath);\\n    }\\n\\n    await ns.sleep(250);  // Just so that the editor does not complain...\\n  }\\n}\\n\",\"filename\":\"scan.js\",\"server\":\"home\"}}],[\"buy-servers.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"import { scanAllNetwork } from \\\"./scan\\\";\\n\\nfunction generateUUID() {\\n\\t// https://stackoverflow.com/questions/105034/how-do-i-create-a-guid-uuid\\n\\t// crypto.randomUUID();\\n\\t// crypto.getRandomValues();\\n}\\n\\n/** @param {NS} ns */\\nfunction launchScript(ns, scriptName, server) {\\n\\tconst scpStatus = ns.scp(scriptName, server, 'home');\\n\\tif (!scpStatus) {\\n\\t\\tns.print('Failed to copy ' + scriptName + ' on ' + server);\\n\\t}\\n\\n\\tns.killall(server);\\n\\n\\tconst maxRam = ns.getServerMaxRam(server);\\n\\tconst usedRam = ns.getServerUsedRam(server);\\n\\tconst availableRam = maxRam - usedRam;\\n\\tconst scriptRam = ns.getScriptRam(scriptName, server);\\n\\tconst numThreads = Math.floor(availableRam / scriptRam);\\n\\tif (numThreads > 0) {\\n\\t\\tif (ns.exec(scriptName, server, numThreads) == 0) {\\n\\t\\t\\tns.print('Error launching script');\\n\\t\\t}\\n\\t}\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n\\tns.disableLog('ALL');\\n\\tconst BUYING_DELAY = 250;\\n\\tconst UPGRADING_DELAY = 5 * 1000;\\n\\tconst FOLLOWING_BATCH_DELAY = 1000 * 60 * 5;\\n\\tconst HOME_SERVER = 'home';\\n\\n\\tlet targetRam = 4;\\n\\twhile (targetRam <= ns.getPurchasedServerMaxRam()) {\\n\\t\\tconst maxNumberOfServers = ns.getPurchasedServerLimit();\\n\\t\\tconst availableMoney = ns.getServerMoneyAvailable('home');\\n\\t\\tconst serverCost = ns.getPurchasedServerCost(targetRam);\\n\\n\\t\\tif (availableMoney < maxNumberOfServers * serverCost) {\\n\\t\\t\\ttargetRam /= 2;\\n\\t\\t\\tbreak;\\n\\t\\t}\\n\\n\\t\\ttargetRam *= 2;\\n\\t}\\n\\n\\tif (targetRam < 8) {\\n\\t\\ttargetRam = 8;\\n\\t}\\n\\n\\tns.print(`Starting target ram: ${targetRam}`);\\n\\n\\t// Purchase missing servers\\n\\twhile (true) {\\n\\t\\t// List current servers\\n\\t\\tconst serverList = scanAllNetwork(ns);\\n\\t\\tlet purchasedServers = serverList.filter(name => name.startsWith('neighbor-'));\\n\\n\\t\\t// Stopping criteria\\n\\t\\tif (purchasedServers.length == ns.getPurchasedServerLimit()) {\\n\\t\\t\\tbreak;\\n\\t\\t}\\n\\n\\t\\t// If limit is not reached, buy server at current targetRam\\n\\t\\tif (ns.getPurchasedServerCost(targetRam) < ns.getServerMoneyAvailable(HOME_SERVER)) {\\n\\t\\t\\tconst name = `neighbor-${purchasedServers.length}`;\\n\\t\\t\\tns.print(`Purchasing server ${name}`);\\n\\t\\t\\tns.purchaseServer(name, targetRam);\\n\\t\\t\\tlaunchScript(ns, 'hack-remote.js', name);\\n\\n\\t\\t\\tpurchasedServers.push(name);\\n\\t\\t}\\n\\n\\t\\tawait ns.sleep(BUYING_DELAY);\\n\\t}\\n\\n\\tconst purchasedServers = scanAllNetwork(ns).filter(name => name.startsWith('neighbor-'));\\n\\tns.print(`Purchased servers: ${purchasedServers}`);\\n\\n\\ttargetRam *= 2;\\n\\twhile (true) {\\n\\t\\t// Stopping criteria\\n\\t\\tlet countServerWithTargetRam = 0;\\n\\t\\tfor (const purchasedServer of purchasedServers) {\\n\\t\\t\\tconst purchasedServerRam = ns.getServer(purchasedServer).maxRam;\\n\\t\\t\\tif (purchasedServerRam >= targetRam) {\\n\\t\\t\\t\\tcountServerWithTargetRam++;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tns.print(`Number of servers at target (target: ${ns.formatRam(targetRam)} / max: ${ns.formatRam(ns.getPurchasedServerMaxRam())}): ${countServerWithTargetRam} vs ${ns.getPurchasedServerLimit()}`);\\n\\t\\tif (countServerWithTargetRam == ns.getPurchasedServerLimit()) {\\n\\t\\t\\tif (targetRam >= ns.getPurchasedServerMaxRam()) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttargetRam *= 2;\\n\\n\\t\\t\\tawait ns.sleep(FOLLOWING_BATCH_DELAY);\\n\\t\\t}\\n\\n\\t\\tfor (const purchasedServer of purchasedServers) {\\n\\t\\t\\tconst purchasedServerRam = ns.getServer(purchasedServer).maxRam;\\n\\t\\t\\tif (purchasedServerRam < targetRam) {\\n\\t\\t\\t\\tconst moneyAvailable = ns.getServerMoneyAvailable('home');\\n\\t\\t\\t\\tconst upgradeCost = ns.getPurchasedServerUpgradeCost(purchasedServer, targetRam);\\n\\t\\t\\t\\tif (upgradeCost < moneyAvailable) {\\n\\t\\t\\t\\t\\tif (ns.upgradePurchasedServer(purchasedServer, targetRam)) {\\n\\t\\t\\t\\t\\t\\tns.print(`Upgraded ${purchasedServer} to ${targetRam}Gb with cost of ${ns.formatNumber(upgradeCost)}\\\\$`);\\n\\t\\t\\t\\t\\t\\tlaunchScript(ns, 'hack-remote.js', purchasedServer);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tns.print(`Error while upgrading purchased server ${purchasedServer} to ${targetRam}Gb`);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tawait ns.sleep(UPGRADING_DELAY);\\n\\t}\\n}\\n\",\"filename\":\"buy-servers.js\",\"server\":\"home\"}}],[\"delete-servers.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"import { scanAllNetwork } from \\\"./scan.js\\\";\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  const fullServerList = scanAllNetwork(ns);\\n  const serverList = fullServerList.filter(name => name.startsWith('neighbor-'));\\n\\n  for (const server of serverList) {\\n    ns.tprint('Deleting: ' + server);\\n    ns.killall(server);\\n    ns.deleteServer(server);\\n  }\\n}\\n\",\"filename\":\"delete-servers.js\",\"server\":\"home\"}}],[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"home\"}}],[\"list-server-money.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"import { scanAllNetwork } from \\\"./scan.js\\\";\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  const fullServerList = scanAllNetwork(ns);\\n  const serverList = fullServerList.filter(name => !name.startsWith('neighbor-'));\\n\\n  for (let server of serverList) {\\n    const moneyAvailable = ns.getServerMoneyAvailable(server);\\n    const maxMoneyAvailable = ns.getServerMaxMoney(server);\\n\\n    ns.tprint(`Server: ${server} --> ${ns.formatNumber(moneyAvailable)}\\\\$ / ${ns.formatNumber(maxMoneyAvailable)}\\\\$`);\\n  }\\n}\\n\",\"filename\":\"list-server-money.js\",\"server\":\"home\"}}],[\"fetch-scripts.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport async function main(ns) {\\n    if (ns.getHostname() !== \\\"home\\\") {\\n        throw new Exception(\\\"Run the script from home\\\");\\n    }\\n\\n    const scripts = [\\n        'bootstrap.js',\\n        'buy-darkweb-programs.js',\\n        'buy-hacknet-servers.js',\\n        'buy-servers.js',\\n        'delete-servers.js',\\n        'fetch-scripts.js',\\n        'hack-remote.js',\\n        'hack-server.js',\\n        'hacking-programs.js',\\n        'launch-hacking.js',\\n        'list-player-karma.js',\\n        'list-server-money.js',\\n        'list-server-prices.js',\\n        'list-server-security-level.js',\\n        'manage-bladeburner.js',\\n        'manage-corporation.js',\\n        'manage-gang.js',\\n        'manage-sleeves.js',\\n        'scan.js',\\n        'spend-hashes.js'\\n    ];\\n\\n    for (const scriptName of scripts) {\\n        ns.tprint(`Fetching: ${scriptName}`);\\n        await ns.wget(\\n            `https://raw.githubusercontent.com/antoinedube/bitburner-scripts/main/scripts/${scriptName}`,\\n            `${scriptName}`\\n        );\\n\\n        await ns.sleep(250);\\n    }\\n}\\n\",\"filename\":\"fetch-scripts.js\",\"server\":\"home\"}}],[\"list-player-karma.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport async function main(ns) {\\n  const karma = ns.heart.break();\\n  ns.tprint(`karma: ${karma.toFixed(2)}`);\\n}\\n\",\"filename\":\"list-player-karma.js\",\"server\":\"home\"}}],[\"list-server-security-level.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"import { scanAllNetwork } from \\\"./scan.js\\\";\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  const fullServerList = scanAllNetwork(ns);\\n  const serverList = fullServerList.filter(name => !name.startsWith('neighbor-'));\\n\\n  for (let server of serverList) {\\n    const currentSecurityLevel = ns.getServerSecurityLevel(server);\\n    const minSecurityLevel = ns.getServerMinSecurityLevel(server)\\n\\n    ns.tprint(`Server: ${server} --> ${ns.formatNumber(currentSecurityLevel)} / ${ns.formatNumber(minSecurityLevel)}`);\\n  }\\n}\\n\",\"filename\":\"list-server-security-level.js\",\"server\":\"home\"}}],[\"bootstrap.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport async function main(ns) {\\n  const scripts = [\\n    'launch-hacking.js',\\n    'spend-hashes.js',\\n    /* 'buy-hacknet-servers.js', */\\n    'buy-servers.js',\\n    'manage-sleeves.js',\\n    'manage-gang.js',\\n    'buy-darkweb-programs.js',\\n    /* 'manage-bladeburner.js' */\\n  ];\\n\\n  if (ns.isRunning('hack-remote.js')) {\\n    ns.kill('hack-remote.js', 'home');\\n  }\\n\\n  for (let script of scripts) {\\n    if (!ns.isRunning(script)) {\\n      ns.tprint(`Launching script: ${script}`);\\n      ns.run(script);\\n\\n      await ns.sleep(250);\\n    }\\n  }\\n\\n  await ns.sleep(2 * 1000);\\n\\n  const hackingScript = 'hack-remote.js';\\n  const scriptRam = ns.getScriptRam(hackingScript);\\n  const serverMaxRam = ns.getServerMaxRam('home');\\n  const serverUsedRam = ns.getServerUsedRam('home');\\n  const availableRam = serverMaxRam - serverUsedRam;\\n  const scriptNumThreads = ~~(availableRam / scriptRam);\\n\\n  if (scriptNumThreads > 0) {\\n    ns.tprint(`Launching script: ${hackingScript} with ${scriptNumThreads} threads`);\\n    ns.exec(hackingScript, 'home', scriptNumThreads);\\n  }\\n\\n  if (!ns.bladeburner.inBladeburner()) {\\n    ns.singularity.universityCourse('Rothman University', 'Computer Science');\\n  }\\n}\\n\",\"filename\":\"bootstrap.js\",\"server\":\"home\"}}],[\"manage-gang.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction displayMembersInformation(ns, memberName) {\\n  const memberInfo = ns.gang.getMemberInformation(memberName);\\n  const hackingLevel = memberInfo['hack'];\\n  const currentTask = memberInfo['task'];\\n  ns.print(`Member: ${memberName}\\\\thacking level: ${hackingLevel}\\\\ttask: ${currentTask}`);\\n}\\n\\n/** @param {NS} ns */\\nfunction assignMember(ns, name, task = '') {\\n  const memberInfo = ns.gang.getMemberInformation(name);\\n  const hackingLevel = memberInfo['hack'];\\n  const currentTask = memberInfo['task'];\\n\\n  /*\\n  Task names:\\n      - Unassigned\\n      - Ransomware\\n      - Phishing\\n      - Identity Theft\\n      - DDoS Attacks\\n      - Plant Virus\\n      - Fraud & Counterfeiting,\\n      - Money Laundering\\n      - Cyberterrorism\\n      - Ethical Hacking\\n      - Vigilante Justice\\n      - Train Combat\\n      - Train Hacking\\n      - Train Charisma\\n      - Territory Warfare\\n  */\\n  if (task != '') {\\n    if (currentTask != task) {\\n      ns.gang.setMemberTask(name, task);\\n    }\\n  } else if (hackingLevel < 120) {\\n    if (currentTask != 'Cyberterrorism') {\\n      ns.gang.setMemberTask(name, 'Cyberterrorism');\\n    }\\n  } else {\\n    if (currentTask != 'Money Laundering') {\\n      ns.gang.setMemberTask(name, 'Money Laundering');\\n    }\\n  }\\n}\\n\\n/** @param {NS} ns */\\nfunction recruitIfPossible(ns) {\\n  if (!ns.gang.canRecruitMember()) {\\n    return;\\n  }\\n\\n  const gangMembers = ns.gang.getMemberNames();\\n  const newGangMemberName = `audrey-${gangMembers.length + 1}`;\\n  ns.gang.recruitMember(newGangMemberName);\\n  assignMember(ns, newGangMemberName);\\n}\\n\\n/** @param {NS} ns */\\nfunction reassignMembersAccordingToWantedLevelPenalty(ns) {\\n  const gangInformation = ns.gang.getGangInformation();\\n  /*\\n  Gang information structure:\\n  {\\n      \\\"faction\\\":\\\"NiteSec\\\",\\n      \\\"isHacking\\\":true,\\n      \\\"moneyGainRate\\\":213.18959642323077,\\n      \\\"power\\\":1,\\n      \\\"respect\\\":846.631799960249,\\n      \\\"respectGainRate\\\":0,\\n      \\\"territory\\\":0.14285714285714293,\\n      \\\"territoryClashChance\\\":0,\\n      \\\"territoryWarfareEngaged\\\":false,\\n      \\\"wantedLevel\\\":310.2473419438491,\\n      \\\"wantedLevelGainRate\\\":-0.025302857142857158,\\n      \\\"wantedPenalty\\\":0.7318238952487159\\n  }\\n  */\\n\\n  const wantedLevelPenalty = 1.0 - gangInformation['wantedPenalty'];\\n  const gangRespect = gangInformation['respect'];\\n  if (wantedLevelPenalty > 0.25 && gangRespect > 50) {\\n    ns.gang.getMemberNames().map(memberName => {\\n      assignMember(ns, memberName, 'Ethical Hacking');\\n    });\\n  } else {\\n    ns.gang.getMemberNames().map(memberName => {\\n      assignMember(ns, memberName);\\n    });\\n  }\\n}\\n\\nfunction ascendIfGainIsWorth(ns) {\\n  ns.gang.getMemberNames().map(memberName => {\\n    const results = ns.gang.getAscensionResult(memberName);\\n\\n    if (results === undefined) {\\n      return;\\n    }\\n\\n    const hackingMultWithAscension = results['hack'];\\n\\n    if (hackingMultWithAscension > 2.0) {\\n      ns.gang.ascendMember(memberName);\\n      assignMember(ns, memberName);\\n    }\\n  });\\n}\\n\\nfunction buyEquipment(ns) {\\n  /*\\n      [\\n          \\\"Baseball Bat\\\",\\n          \\\"Katana\\\",\\n          \\\"Glock 18C\\\",\\n          \\\"P90C\\\",\\n          \\\"Steyr AUG\\\",\\n          \\\"AK-47\\\",\\n          \\\"M15A10 Assault Rifle\\\",\\n          \\\"AWM Sniper Rifle\\\",\\n          \\\"Bulletproof Vest\\\",\\n          \\\"Full Body Armor\\\",\\n          \\\"Liquid Body Armor\\\",\\n          \\\"Graphene Plating Armor\\\",\\n          \\\"Ford Flex V20\\\",\\n          \\\"ATX1070 Superbike\\\",\\n          \\\"Mercedes-Benz S9001\\\",\\n          \\\"White Ferrari\\\",\\n          \\\"NUKE Rootkit\\\",\\n          \\\"Soulstealer Rootkit\\\",\\n          \\\"Demon Rootkit\\\",\\n          \\\"Hmap Node\\\",\\n          \\\"Jack the Ripper\\\",\\n          \\\"Bionic Arms\\\",\\n          \\\"Bionic Legs\\\",\\n          \\\"Bionic Spine\\\",\\n          \\\"BrachiBlades\\\",\\n          \\\"Nanofiber Weave\\\",\\n          \\\"Synthetic Heart\\\",\\n          \\\"Synfibril Muscle\\\",\\n          \\\"BitWire\\\",\\n          \\\"Neuralstimulator\\\",\\n          \\\"DataJack\\\",\\n          \\\"Graphene Bone Lacings\\\"\\n          ]\\n  */\\n  const hackingUpgrades = ['NUKE Rootkit', 'Soulstealer Rootkit', 'Demon Rootkit', 'Hmap Node', 'Jack the Ripper'];\\n  const hackingAugmentations = ['BitWire', 'Neuralstimulator', 'DataJack'];\\n\\n  ns.gang.getMemberNames().map(memberName => {\\n    const memberInfo = ns.gang.getMemberInformation(memberName);\\n    const memberHackingUpgrade = memberInfo['upgrades'];\\n    const memberHackingAugmentations = memberInfo['augmentations'];\\n\\n    hackingUpgrades.map(upgrade => {\\n      if (!memberHackingUpgrade.includes(upgrade) && ns.gang.getEquipmentCost(upgrade) < ns.getServerMoneyAvailable('home')) {\\n        ns.gang.purchaseEquipment(memberName, upgrade);\\n      }\\n    });\\n\\n    hackingAugmentations.map(augmentation => {\\n      if (!memberHackingAugmentations.includes(augmentation) && ns.gang.getEquipmentCost(augmentation) < ns.getServerMoneyAvailable('home')) {\\n        ns.gang.purchaseEquipment(memberName, augmentation);\\n      }\\n    });\\n  });\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('sleep');\\n  ns.disableLog('getServerMoneyAvailable');\\n  let counter = 0;\\n\\n  while (true) {\\n    if (!ns.gang.inGang()) {\\n      ns.print(`Not in gang. Waiting.`);\\n      await ns.sleep(1000 * 60);\\n      continue;\\n    }\\n\\n    ns.gang.getMemberNames().map(memberName => displayMembersInformation(ns, memberName));\\n\\n    recruitIfPossible(ns);\\n    ascendIfGainIsWorth(ns);\\n    reassignMembersAccordingToWantedLevelPenalty(ns);\\n    buyEquipment(ns);\\n\\n    if (counter >= 25) {\\n      ns.gang.getMemberNames().map(memberName => assignMember(ns, memberName));\\n      counter = 0;\\n    } else if (counter >= 23) {\\n      ns.gang.getMemberNames().map(memberName => assignMember(ns, memberName, 'Ethical Hacking'));\\n    }\\n\\n    counter++;\\n    await ns.sleep(1000 * 30);\\n  }\\n}\\n\",\"filename\":\"manage-gang.js\",\"server\":\"home\"}}],[\"manage-sleeves.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nasync function setSleevesTask(ns) {\\n  for (var i = 0; i < ns.sleeve.getNumSleeves(); i++) {\\n    const sleeve = ns.sleeve.getSleeve(i);\\n    ns.print(`Sleeve ${i} has:`);\\n    ns.print(`- sync=${sleeve.sync}`);\\n    ns.print(`- shock=${sleeve.shock}`);\\n    ns.print(`--------------------------------------------`);\\n\\n    if (sleeve.sync < 100) {\\n      ns.print('Synchronize');\\n      ns.sleeve.setToSynchronize(i);\\n    } else if (sleeve.shock > 0) {\\n      ns.print('Shock recovery');\\n      ns.sleeve.setToShockRecovery(i);\\n    } else {\\n      ns.print('Manual task');\\n      // Ref: https://github.com/danielyxie/bitburner/blob/dev/src/Enums.ts\\n      // ns.sleeve.setToCommitCrime(i, 'Assassination');\\n      // ns.sleeve.setToCommitCrime(i, 'Heist');\\n      ns.sleeve.setToCommitCrime(i, 'Mug');\\n      // ns.sleeve.setToCommitCrime(i, 'Homicide');\\n      // ns.sleeve.setToUniversityCourse(i, 'Rothman University', 'Computer Science');\\n      // ns.sleeve.setToUniversityCourse(i, 'Rothman University', 'Algorithms');\\n    }\\n  }\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('sleep');\\n\\n  while (true) {\\n    await setSleevesTask(ns);\\n\\n    await ns.sleep(1000 * 15);\\n  }\\n}\\n\",\"filename\":\"manage-sleeves.js\",\"server\":\"home\"}}],[\"spend-hashes.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"import { scanAllNetwork } from \\\"./scan.js\\\";\\n\\n/** @param {NS} ns */\\nasync function spendHashesOnAction(ns, action, target, amount) {\\n  while (ns.hacknet.numHashes() < ns.hacknet.hashCost(action, amount)) {\\n    await ns.sleep(1000);\\n  }\\n\\n  if (!ns.hacknet.spendHashes(action, target, amount)) {\\n    ns.print(`Error while executing ${action} on ${target} with n=${amount}`);\\n  }\\n}\\n\\n/** @param {NS} ns */\\nfunction selectRandomServer(ns) {\\n  const serversToAvoid = ['CSEC', 'I.I.I.I', 'run4theh111z', 'avmnite-02h', '.', 'darkweb', 'The-Cave', 'w0r1d_d43m0n'];\\n\\n  const fullServerList = scanAllNetwork(ns, 'home');\\n  const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-') && !serversToAvoid.includes(name));\\n  const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n  return filteredServerList[serverIndex];\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n\\n  /*\\n    const upgrades = ns.hacknet.getHashUpgrades();\\n\\n    [\\n      \\\"Sell for Money\\\",\\n      \\\"Sell for Corporation Funds\\\",\\n      \\\"Reduce Minimum Security\\\",\\n      \\\"Increase Maximum Money\\\",\\n      \\\"Improve Studying\\\",\\n      \\\"Improve Gym Training\\\",\\n      \\\"Exchange for Corporation Research\\\",\\n      \\\"Exchange for Bladeburner Rank\\\",\\n      \\\"Exchange for Bladeburner SP\\\",\\n      \\\"Generate Coding Contract\\\",\\n      \\\"Company Favor\\\"\\n    ]\\n  */\\n\\n  const ten_trillions = 10 * 1000 * 1000 * 1000 * 1000;  // k -> m -> g -> t\\n\\n  for (let i = 0; i < 25; i++) {\\n    ns.print(`--> Improve studying ${i + 1} of 25`);\\n    await spendHashesOnAction(ns, 'Improve Studying', 'home', 5);\\n  }\\n\\n  while (true) {\\n    const r = Math.random();\\n    if (r < 0.2) {\\n      const target = selectRandomServer(ns);\\n      const minLevel = ns.getServerMinSecurityLevel(target);\\n      if (minLevel > 1.0) {\\n        await spendHashesOnAction(ns, \\\"Reduce Minimum Security\\\", target, 1);\\n        const minLevelAfter = ns.getServerMinSecurityLevel(target);\\n        ns.print(`Reduced minimum security level on ${target} from ${ns.formatNumber(minLevel)} to ${ns.formatNumber(minLevelAfter)}`);\\n      }\\n    } else if (r < 0.4) {\\n      const target = selectRandomServer(ns);\\n      const maxMoney = ns.getServerMaxMoney(target);\\n      if (maxMoney < ten_trillions) {\\n        await spendHashesOnAction(ns, \\\"Increase Maximum Money\\\", target, 1);\\n        const maxMoneyAfter = ns.getServerMaxMoney(target);\\n        ns.print(`Increased maximum money on ${target} from ${ns.formatNumber(maxMoney)}\\\\$ to ${ns.formatNumber(maxMoneyAfter)}\\\\$`);\\n      }\\n      /*\\n      } else if (r < 0.3) {\\n              if (ns.bladeburner.inBladeburner()) {\\n                      await spendHashesOnAction(ns, 'Exchange for Bladeburner Rank', 'home', 1);\\n              }\\n      } else if (r < 0.4) {\\n              if (ns.bladeburner.inBladeburner()) {\\n                      await spendHashesOnAction(ns, 'Exchange for Bladeburner SP', 'home', 1);\\n              }\\n      */\\n    } else {\\n      await spendHashesOnAction(ns, \\\"Sell for Money\\\", \\\"target\\\", 5);\\n      ns.print(`Sold hashes for money (x5)`);\\n    }\\n\\n    await ns.sleep(250);\\n  }\\n}\\n\",\"filename\":\"spend-hashes.js\",\"server\":\"home\"}}],[\"manage-bladeburner.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction findNextAction(ns) {\\n  const orderOfTypes = ['Operation', 'Contract', 'General'];\\n  const targetedTasks = {\\n    'General': ['Training'],\\n    'Contract': ['Tracking', 'Bounty Hunter', 'Retirement'],\\n    'Operation': ['Investigation', 'Stealth Retirement Operation', 'Assassination']\\n  }\\n\\n  const lowStaminaTask = 'Hyperbolic Regeneration Chamber';\\n\\n  const [currentStamina, maxStamina] = ns.bladeburner.getStamina();\\n  const playerRank = ns.bladeburner.getRank();\\n\\n  if (currentStamina < 0.80 * maxStamina) {\\n    return {\\n      'type': 'General',\\n      'name': lowStaminaTask\\n    };\\n  }\\n\\n  // BlackOps have a special structure\\n  const nextBlackOp = ns.bladeburner.getNextBlackOp();\\n  if (nextBlackOp != undefined) {\\n\\n    const [lowerBound, _] = ns.bladeburner.getActionEstimatedSuccessChance('BlackOp', nextBlackOp['name']);\\n    if (0.9 < lowerBound && nextBlackOp['rank'] <= playerRank) {\\n      return {\\n        'type': 'BlackOp',\\n        'name': nextBlackOp['name']\\n      };\\n    }\\n  }\\n\\n  for (let actionType of orderOfTypes) {\\n    const actionNames = targetedTasks[actionType].reverse();\\n    for (let actionName of actionNames) {\\n      const [lowerBound, _] = ns.bladeburner.getActionEstimatedSuccessChance(actionType, actionName);\\n      const countRemaining = ns.bladeburner.getActionCountRemaining(actionType, actionName);\\n      if (0.8 < lowerBound && 0 < countRemaining) {\\n        return {\\n          'type': actionType,\\n          'name': actionName\\n        };\\n      }\\n    }\\n  }\\n\\n  return {\\n    'type': 'General',\\n    'name': 'Training'\\n  };\\n}\\n\\n/** @param {NS} ns */\\nfunction upgradeBladeburnerSkills(ns) {\\n  const targetedSkills = [\\n    \\\"Blade's Intuition\\\",\\n    \\\"Cloak\\\",\\n    \\\"Short-Circuit\\\",\\n    \\\"Digital Observer\\\",\\n    \\\"Tracer\\\",\\n    \\\"Hyperdrive\\\",\\n    \\\"Hands of Midas\\\"\\n  ];\\n\\n  for (let skill of targetedSkills) {\\n    const skillCost = ns.bladeburner.getSkillUpgradeCost(skill);\\n    const numberSkillPoints = ns.bladeburner.getSkillPoints();\\n    if (skillCost < numberSkillPoints) {\\n      ns.bladeburner.upgradeSkill(skill);\\n    }\\n  }\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('sleep');\\n  const ten_seconds = 10 * 1000;\\n\\n  while (!ns.bladeburner.inBladeburner()) {\\n    ns.print('Not in BladeBurner');\\n    await ns.sleep(ten_seconds);\\n  }\\n\\n  ns.print('Managing bladeburner');\\n\\n  while (true) {\\n    const currentAction = ns.bladeburner.getCurrentAction();\\n\\n    const newAction = findNextAction(ns);\\n    if (currentAction['type'] != newAction['type'] || currentAction['name'] != newAction['name']) {\\n      const result = ns.bladeburner.startAction(newAction['type'], newAction['name']);\\n      if (!result) {\\n        ns.print(`Unable to start action: ${JSON.stringify(newAction)}`);\\n      }\\n    }\\n\\n    upgradeBladeburnerSkills(ns);\\n    await ns.sleep(ten_seconds);\\n  }\\n}\\n\",\"filename\":\"manage-bladeburner.js\",\"server\":\"home\"}}],[\"hacking-programs.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport function buildHackingProgramList(ns) {\\n  return [\\n    { name: 'brute-ssh', functionName: ns.brutessh, executableName: \\\"BruteSSH.exe\\\" },\\n    { name: 'ftp-crack', functionName: ns.ftpcrack, executableName: \\\"FTPCrack.exe\\\" },\\n    { name: 'relay-smtp', functionName: ns.relaysmtp, executableName: \\\"relaySMTP.exe\\\" },\\n    { name: 'http-worm', functionName: ns.httpworm, executableName: \\\"HTTPWorm.exe\\\" },\\n    { name: 'sql-inject', functionName: ns.sqlinject, executableName: \\\"SQLInject.exe\\\" }\\n  ];\\n}\\n\\n/** @param {NS} ns */\\nexport function listAvailablePrograms(ns, hackingPrograms) {\\n  let availablePrograms = [];\\n  for (const program of hackingPrograms) {\\n    if (ns.fileExists(program.executableName, \\\"home\\\")) {\\n      availablePrograms.push(program);\\n    }\\n  }\\n  return availablePrograms;\\n}\\n\\n/** @param {NS} ns */\\nexport function countAvailablePrograms(ns, hackingPrograms) {\\n  const availablePrograms = listAvailablePrograms(ns, hackingPrograms);\\n  return availablePrograms.length;\\n}\\n\",\"filename\":\"hacking-programs.js\",\"server\":\"home\"}}],[\"buy-darkweb-programs.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport async function main(ns) {\\n    ns.disableLog('ALL');\\n    const SLEEP_DELAY = 15000;  // in milliseconds\\n    const HOME_SERVER = 'home';\\n    const TOR_ROUTER_PRICE = 200000;\\n\\n    if (!ns.hasTorRouter()) {\\n        ns.print('TOR router not purchased yet');\\n    }\\n\\n    while (!ns.hasTorRouter()) {\\n        const moneyAvailable = ns.getServerMoneyAvailable(HOME_SERVER);\\n\\n        if (TOR_ROUTER_PRICE <= moneyAvailable) {\\n            if (ns.singularity.purchaseTor()) {\\n                ns.print('TOR router purchased');\\n            }\\n        }\\n\\n        await ns.sleep(SLEEP_DELAY);\\n    }\\n\\n    while (true) {\\n        const allHackingPrograms = ns.singularity.getDarkwebPrograms();\\n        const purchasedHackingPrograms = allHackingPrograms.filter((program) => ns.fileExists(program));\\n        const hackingProgramsToPurchase = allHackingPrograms.filter((program) => !ns.fileExists(program));\\n\\n        if (purchasedHackingPrograms.length == allHackingPrograms.length) {\\n            break;\\n        }\\n\\n        for (const program of hackingProgramsToPurchase) {\\n            const programCost = ns.singularity.getDarkwebProgramCost(program);\\n            const moneyAvailable = ns.getServerMoneyAvailable(HOME_SERVER);\\n\\n            if (programCost <= moneyAvailable) {\\n                if (ns.singularity.purchaseProgram(program)) {\\n                    ns.print(`Purchased ${program}`);\\n                }\\n            }\\n        }\\n\\n        await ns.sleep(SLEEP_DELAY);\\n    }\\n}\\n\",\"filename\":\"buy-darkweb-programs.js\",\"server\":\"home\"}}],[\"manage-corporation.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport async function main(ns) {\\n    // Ref: https://github.com/danielyxie/bitburner/blob/dev/markdown/bitburner.corporation.md\\n    if (ns.corporation.hasCorporation()) {\\n        ns.tprint('Player has corporation');\\n    } else {\\n        ns.tprint('Player does not have corporation');\\n    }\\n\\n    const corporation = ns.corporation.getCorporation();\\n    ns.tprint(`Corporation data:\\\\n${corporation}`);\\n}\\n\",\"filename\":\"manage-corporation.js\",\"server\":\"home\"}}],[\"buy-hacknet-servers.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n\\n  const hacknetConstants = ns.formulas.hacknetServers.constants();\\n  /*\\n      ns.formulas.hacknetServers.constants()\\n      {\\n          \\\"HashesPerLevel\\\":0.001,\\n          \\\"BaseCost\\\":50000,\\n          \\\"RamBaseCost\\\":200000,\\n          \\\"CoreBaseCost\\\":1000000,\\n          \\\"CacheBaseCost\\\":10000000,\\n          \\\"PurchaseMult\\\":3.2,\\n          \\\"UpgradeLevelMult\\\":1.1,\\n          \\\"UpgradeRamMult\\\":1.4,\\n          \\\"UpgradeCoreMult\\\":1.55,\\n          \\\"UpgradeCacheMult\\\":1.85,\\n          \\\"MaxServers\\\":20,\\n          \\\"MaxLevel\\\":300,\\n          \\\"MaxRam\\\":8192,\\n          \\\"MaxCores\\\":128,\\n          \\\"MaxCache\\\":15\\n      }\\n  */\\n\\n  /*\\n  const targetCount = hacknetConstants['MaxServers'];\\n  const targetLevel = hacknetConstants['MaxLevel'];\\n  const targetRam = hacknetConstants['MaxRam'];\\n  const targetCore = hacknetConstants['MaxCores'];\\n  const targetCache = hacknetConstants['MaxCache'];\\n  */\\n\\n  const targetCount = 12;\\n  const targetLevel = 100;\\n  const targetRam = hacknetConstants['MaxRam'];\\n  const targetCore = 24;\\n  const targetCache = hacknetConstants['MaxCache'];\\n\\n  while (true) {\\n    if (ns.hacknet.numNodes() < targetCount) {\\n      const cost = ns.hacknet.getPurchaseNodeCost();\\n      if (ns.getServerMoneyAvailable(\\\"home\\\") >= cost) {\\n        ns.hacknet.purchaseNode();\\n        ns.print('Bought net node');\\n      }\\n    }\\n\\n    for (let i = 0; i < ns.hacknet.numNodes(); i++) {\\n      if (ns.hacknet.getNodeStats(i).level < targetLevel) {\\n        const cost = ns.hacknet.getLevelUpgradeCost(i, 1);\\n        if (ns.getServerMoneyAvailable(\\\"home\\\") >= cost) {\\n          ns.hacknet.upgradeLevel(i, 1);\\n          const newLevel = ns.hacknet.getNodeStats(i).level;\\n          ns.print(`Upgrading node ${i} to level ${newLevel}`);\\n        }\\n      }\\n    }\\n\\n    for (let i = 0; i < ns.hacknet.numNodes(); i++) {\\n      if (ns.hacknet.getNodeStats(i).ram < targetRam) {\\n        const cost = ns.hacknet.getRamUpgradeCost(i, 1);\\n        if (ns.getServerMoneyAvailable(\\\"home\\\") >= cost) {\\n          ns.hacknet.upgradeRam(i, 1);\\n          const newLevel = ns.hacknet.getNodeStats(i).ram;\\n          ns.print(`Upgrading node ${i} to ram ${newLevel}`);\\n        }\\n      }\\n    }\\n\\n    for (let i = 0; i < ns.hacknet.numNodes(); i++) {\\n      if (ns.hacknet.getNodeStats(i).cores < targetCore) {\\n        const cost = ns.hacknet.getCoreUpgradeCost(i, 1);\\n        if (ns.getServerMoneyAvailable(\\\"home\\\") >= cost) {\\n          ns.hacknet.upgradeCore(i, 1);\\n          const newLevel = ns.hacknet.getNodeStats(i).cores;\\n          ns.print(`Upgrading node ${i} to cores ${newLevel}`);\\n        }\\n      }\\n    }\\n\\n    for (let i = 0; i < ns.hacknet.numNodes(); i++) {\\n      if (ns.hacknet.getNodeStats(i).cache < targetCache) {\\n        const cost = ns.hacknet.getCacheUpgradeCost(i, 1);\\n        if (ns.getServerMoneyAvailable(\\\"home\\\") >= cost) {\\n          ns.hacknet.upgradeCache(i, 1);\\n          const newLevel = ns.hacknet.getNodeStats(i).cache;\\n          ns.print(`Upgrading node ${i} to cache ${newLevel}`);\\n        }\\n      }\\n    }\\n\\n    let countCompletelyUpgraded = 0;\\n    if (ns.hacknet.numNodes() == targetCount) {\\n      for (let i = 0; i < ns.hacknet.numNodes(); i++) {\\n        const nodeStats = ns.hacknet.getNodeStats(i);\\n        const allLevelUpgraded = nodeStats.level == targetLevel;\\n        const allRamUpgraded = nodeStats.ram == targetRam;\\n        const allCoreUpgraded = nodeStats.cores == targetCore;\\n        const allCacheUpgraded = nodeStats.cache == targetCache;\\n\\n\\n        if (allLevelUpgraded && allRamUpgraded && allCoreUpgraded && allCacheUpgraded) {\\n          countCompletelyUpgraded++;\\n        }\\n      }\\n    }\\n\\n    if (countCompletelyUpgraded == targetCount) {\\n      break;\\n    }\\n\\n    await ns.sleep(500);\\n  }\\n}\\n\",\"filename\":\"buy-hacknet-servers.js\",\"server\":\"home\"}}]]},\"serversOnNetwork\":[\"n00dles\",\"foodnstuff\",\"sigma-cosmetics\",\"joesguns\",\"hong-fang-tea\",\"harakiri-sushi\",\"iron-gym\",\"hacknet-server-0\",\"hacknet-server-1\",\"hacknet-server-2\",\"hacknet-server-3\",\"hacknet-server-4\",\"hacknet-server-5\",\"hacknet-server-6\",\"hacknet-server-7\",\"hacknet-server-8\",\"hacknet-server-9\",\"hacknet-server-10\",\"hacknet-server-11\",\"hacknet-server-12\",\"hacknet-server-13\",\"hacknet-server-14\",\"hacknet-server-15\",\"hacknet-server-16\",\"hacknet-server-17\",\"hacknet-server-18\",\"hacknet-server-19\",\"neighbor-0\",\"darkweb\",\"neighbor-1\",\"neighbor-2\",\"neighbor-3\",\"neighbor-4\",\"neighbor-5\",\"neighbor-6\",\"neighbor-7\",\"neighbor-8\",\"neighbor-9\",\"neighbor-10\",\"neighbor-11\",\"neighbor-12\",\"neighbor-13\",\"neighbor-14\",\"neighbor-15\",\"neighbor-16\",\"neighbor-17\",\"neighbor-18\"],\"smtpPortOpen\":true,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1.032,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":2,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"launch-hacking.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.721000000005,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":31701.210000080267,\"ramUsage\":11.2,\"server\":\"home\",\"scriptKey\":\"launch-hacking.js*[]\",\"title\":\"launch-hacking.js \",\"threads\":1,\"temporary\":false}},{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"spend-hashes.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.723000000005,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":31700.810000080266,\"ramUsage\":6,\"server\":\"home\",\"scriptKey\":\"spend-hashes.js*[]\",\"title\":\"spend-hashes.js \",\"threads\":1,\"temporary\":false}},{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"manage-sleeves.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.729,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":31700.210000080264,\"ramUsage\":21.6,\"server\":\"home\",\"scriptKey\":\"manage-sleeves.js*[]\",\"title\":\"manage-sleeves.js \",\"threads\":1,\"temporary\":false}},{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"manage-gang.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.732,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":31700.010000080263,\"ramUsage\":24.7,\"server\":\"home\",\"scriptKey\":\"manage-gang.js*[]\",\"title\":\"manage-gang.js \",\"threads\":1,\"temporary\":false}},{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"foodnstuff\":[0,0,0,42224],\"hong-fang-tea\":[51021652.38110779,21112,21112,63336],\"nectar-net\":[0,0,21112,21112],\"n00dles\":[2174249.5487838974,42224,0,21112],\"joesguns\":[0,0,21112,84448],\"harakiri-sushi\":[67327628.85099009,21112,0,42224],\"CSEC\":[0,0,63336,0],\"sigma-cosmetics\":[0,0,0,84448],\"neo-net\":[0,0,21112,84448],\"zer0\":[0,0,0,63336],\"rothman-uni\":[0,0,42224,42224],\"rho-construction\":[0,0,21112,21112],\"syscore\":[0,0,42224,21112],\"omega-net\":[0,0,21112,42224],\"iron-gym\":[0,0,0,21112],\"avmnite-02h\":[0,0,63336,0],\"aevum-police\":[5521592401.822704,21112,21112,84448],\"crush-fitness\":[760425435.6299298,21112,42224,21112],\"netlink\":[0,0,21112,0],\"computek\":[0,0,21112,21112],\"silver-helix\":[0,0,0,21112],\"summit-uni\":[4486586159.245284,21112,21112,21112],\"catalyst\":[0,0,21112,63336],\"johnson-ortho\":[0,0,21112,21112],\"run4theh111z\":[0,0,21112,21112],\"global-pharm\":[0,0,42224,0],\"helios\":[0,0,0,42224],\"alpha-ent\":[0,0,21112,21112],\"zb-institute\":[0,0,0,21112],\"zb-def\":[0,0,0,21112],\"max-hardware\":[0,0,42224,21112],\"titan-labs\":[0,0,0,21112],\"microdyne\":[0,0,0,42224],\"darkweb\":[0,0,42224,0],\".\":[0,0,21112,0],\"snap-fitness\":[8358915712.37084,21112,21112,21112],\"the-hub\":[0,0,21112,0],\"univ-energy\":[0,0,0,21112],\"I.I.I.I\":[0,0,21112,42224],\"nova-med\":[21976600290.289772,21112,0,0],\"aerocorp\":[0,0,21112,0],\"phantasy\":[0,0,21112,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":195320625.61435485,\"offlineMoneyMade\":55006818248.522064,\"offlineRunningTime\":57420.735,\"onlineExpGained\":110183981.76326638,\"onlineMoneyMade\":41224643530.13941,\"onlineRunningTime\":31697.410000080254,\"ramUsage\":3.1,\"server\":\"home\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":21112,\"temporary\":false}}]}},\"ecorp\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-829821.cct\",\"type\":\"Sanitize Parentheses in Expression\",\"data\":\"((()()())\",\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"ecorp\",\"httpPortOpen\":false,\"ip\":\"95.5.8.6\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"ECorp\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"clarkinc\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":42.53815112908928,\"moneyAvailable\":24790967286.255093,\"moneyMax\":697966392374.5928,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1080,\"serverGrowth\":99,\"runningScripts\":[]}},\"megacorp\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"megacorp\",\"httpPortOpen\":false,\"ip\":\"33.5.0.9\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"MegaCorp\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"clarkinc\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":40.036567537489795,\"moneyAvailable\":36102024404.26105,\"moneyMax\":957793927849.927,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1287,\"serverGrowth\":99,\"runningScripts\":[]}},\"b-and-a\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-256453.cct\",\"type\":\"Encryption II: Vigenère Cipher\",\"data\":[\"MEDIAPOPUPCLOUDCACHEMACRO\",\"SPYWARE\"],\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"b-and-a\",\"httpPortOpen\":false,\"ip\":\"90.4.3.3\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Bachman & Associates\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"4sigma\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":30.399504264884825,\"moneyAvailable\":20998751951.62937,\"moneyMax\":546177538261.88,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1076,\"serverGrowth\":68,\"runningScripts\":[]}},\"blade\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"blade\",\"httpPortOpen\":false,\"ip\":\"66.8.4.6\",\"isConnectedTo\":false,\"maxRam\":64,\"messages\":[\"beyond-man.lit\"],\"organizationName\":\"Blade Industries\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"kuai-gong\",\"fulcrumassets\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":31.847099706069812,\"moneyAvailable\":16584323239.279984,\"moneyMax\":439985412402.74567,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1160,\"serverGrowth\":80,\"runningScripts\":[]}},\"nwo\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"nwo\",\"httpPortOpen\":false,\"ip\":\"30.5.8.5\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[\"the-hidden-world.lit\"],\"organizationName\":\"NWO\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"omnitek\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":36.18988602962478,\"moneyAvailable\":23943752259.917656,\"moneyMax\":575349679448.2328,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1142,\"serverGrowth\":75,\"runningScripts\":[]}},\"clarkinc\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"clarkinc\",\"httpPortOpen\":false,\"ip\":\"88.8.4.1\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[\"beyond-man.lit\",\"cost-of-immortality.lit\"],\"organizationName\":\"Clarke Incorporated\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"kuai-gong\",\"ecorp\",\"megacorp\",\"The-Cave\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":75,\"hackDifficulty\":75,\"minDifficulty\":17.37838327142582,\"moneyAvailable\":18377879671.75076,\"moneyMax\":459446991793.769,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1152,\"serverGrowth\":72,\"runningScripts\":[]}},\"omnitek\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"omnitek\",\"httpPortOpen\":false,\"ip\":\"27.2.4.4\",\"isConnectedTo\":false,\"maxRam\":128,\"messages\":[\"coded-intelligence.lit\",\"history-of-synthoids.lit\"],\"organizationName\":\"OmniTek Incorporated\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"helios\",\"nwo\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":37.68209707374509,\"moneyAvailable\":14485006173.675941,\"moneyMax\":441428542482.51447,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1092,\"serverGrowth\":97,\"runningScripts\":[]}},\"4sigma\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"4sigma\",\"httpPortOpen\":false,\"ip\":\"64.2.0.1\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Four Sigma\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"vitalife\",\"b-and-a\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":30.62746881294428,\"moneyAvailable\":16300005022.494766,\"moneyMax\":407500125562.3691,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1142,\"serverGrowth\":99,\"runningScripts\":[]}},\"kuai-gong\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"kuai-gong\",\"httpPortOpen\":false,\"ip\":\"32.3.4.3\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"KuaiGong International\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"helios\",\"blade\",\"clarkinc\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":38.45111946300519,\"moneyAvailable\":20138584825.964222,\"moneyMax\":503464620649.10547,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1290,\"serverGrowth\":95,\"runningScripts\":[]}},\"fulcrumtech\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"fulcrumtech\",\"httpPortOpen\":false,\"ip\":\"94.2.5.8\",\"isConnectedTo\":false,\"maxRam\":1024,\"messages\":[\"simulated-reality.lit\"],\"organizationName\":\"Fulcrum Technologies\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"titan-labs\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":29.79151417958713,\"moneyAvailable\":1221493070.687036,\"moneyMax\":29938555654.09402,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":996,\"serverGrowth\":97,\"runningScripts\":[]}},\"fulcrumassets\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-35434.cct\",\"type\":\"Algorithmic Stock Trader IV\",\"data\":[7,[9,51,65,43,154,2,15,190,10,73,117,166,185,65,38,197,148,67,127,27]],\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"fulcrumassets\",\"httpPortOpen\":false,\"ip\":\"77.1.2.5\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Fulcrum Technologies\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"blade\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":39.235836186739995,\"moneyAvailable\":757875.0245882893,\"moneyMax\":21337259.27975279,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1547,\"serverGrowth\":1,\"runningScripts\":[]}},\"stormtech\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-164457-TheBlackHand.cct\",\"type\":\"Merge Overlapping Intervals\",\"data\":[[17,19],[2,7],[1,3],[14,18],[4,10],[3,13],[13,15],[18,21],[25,31],[19,21]],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-631536.cct\",\"type\":\"Array Jumping Game II\",\"data\":[1,1,2,4,1],\"reward\":{\"type\":3}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-935451.cct\",\"type\":\"Sanitize Parentheses in Expression\",\"data\":\"((()()((a\",\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"stormtech\",\"httpPortOpen\":false,\"ip\":\"59.1.4.5\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Storm Technologies\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"titan-labs\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":33.49998508238941,\"moneyAvailable\":793900696.4904714,\"moneyMax\":23254529965.68233,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":950,\"serverGrowth\":91,\"runningScripts\":[]}},\"defcomm\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"defcomm\",\"httpPortOpen\":false,\"ip\":\"71.7.6.3\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"DefComm\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"omnia\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":34.74229058843979,\"moneyAvailable\":654111783.5019482,\"moneyMax\":16352794587.54871,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1015,\"serverGrowth\":54,\"runningScripts\":[]}},\"infocomm\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"infocomm\",\"httpPortOpen\":true,\"ip\":\"62.9.1.9\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"InfoComm\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"infocomm\"}}]]},\"serversOnNetwork\":[\"solaris\",\"titan-labs\",\"run4theh111z\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":26.82448830511968,\"minDifficulty\":26.82448830511968,\"moneyAvailable\":12851774672.014154,\"moneyMax\":12851774672.014154,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":910,\"serverGrowth\":49,\"runningScripts\":[]}},\"helios\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"helios\",\"httpPortOpen\":true,\"ip\":\"38.4.8.3\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[\"beyond-man.lit\"],\"organizationName\":\"Helios Labs\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"helios\"}}]]},\"serversOnNetwork\":[\"microdyne\",\"omnitek\",\"kuai-gong\",\".\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":28.707142785469042,\"minDifficulty\":28.13299992975966,\"moneyAvailable\":11918350992.247585,\"moneyMax\":11918350992.247585,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":800,\"serverGrowth\":71,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"helios\":[1097924449.271601,377,273,13]},\"filename\":\"hack-server.js\",\"offlineExpGained\":170834.13798512868,\"offlineMoneyMade\":2273075262.186117,\"offlineRunningTime\":57420.738000000005,\"onlineExpGained\":61886.30662092227,\"onlineMoneyMade\":1097924449.271601,\"onlineRunningTime\":20858.610000040822,\"ramUsage\":2.45,\"server\":\"helios\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"vitalife\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-15321.cct\",\"type\":\"Encryption II: Vigenère Cipher\",\"data\":[\"ARRAYMACROMEDIAEMAILCACHE\",\"PRINTER\"],\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"vitalife\",\"httpPortOpen\":true,\"ip\":\"74.5.4.1\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[\"A-Green-Tomorrow.lit\"],\"organizationName\":\"VitaLife\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"vitalife\"}}]]},\"serversOnNetwork\":[\"applied-energetics\",\"4sigma\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":30.760895570404163,\"minDifficulty\":30.760895570404163,\"moneyAvailable\":12798767928.44222,\"moneyMax\":12798767928.44222,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":800,\"serverGrowth\":79,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"vitalife\":[1154939717.8938491,204,72,30]},\"filename\":\"hack-server.js\",\"offlineExpGained\":78679.17514244025,\"offlineMoneyMade\":2374994588.220348,\"offlineRunningTime\":57420.739,\"onlineExpGained\":28695.761495783656,\"onlineMoneyMade\":1154939717.8938491,\"onlineRunningTime\":20999.810000041336,\"ramUsage\":2.45,\"server\":\"vitalife\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"icarus\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"icarus\",\"httpPortOpen\":true,\"ip\":\"31.1.7.7\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Icarus Microsystems\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"icarus\"}}]]},\"serversOnNetwork\":[\"unitalife\",\"taiyang-digital\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":33.067962738184455,\"minDifficulty\":33.067962738184455,\"moneyAvailable\":17765272812.47458,\"moneyMax\":17765272812.47458,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":855,\"serverGrowth\":87,\"runningScripts\":[]}},\"univ-energy\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"univ-energy\",\"httpPortOpen\":true,\"ip\":\"49.0.4.9\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[],\"organizationName\":\"Universal Energy\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"univ-energy\"}}]]},\"serversOnNetwork\":[\"omnia\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":83.96896154194589,\"minDifficulty\":29.79151417958713,\"moneyAvailable\":25068331576.637917,\"moneyMax\":25569698208.170677,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":813,\"serverGrowth\":83,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"univ-energy\":[984993837.111811,195,91,117]},\"filename\":\"hack-server.js\",\"offlineExpGained\":114351.8561462723,\"offlineMoneyMade\":2173942844.1027555,\"offlineRunningTime\":57420.740000000005,\"onlineExpGained\":38858.84369220702,\"onlineMoneyMade\":984993837.111811,\"onlineRunningTime\":19570.010000036134,\"ramUsage\":2.45,\"server\":\"univ-energy\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"titan-labs\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"titan-labs\",\"httpPortOpen\":true,\"ip\":\"41.2.1.0\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[\"coded-intelligence.lit\"],\"organizationName\":\"Titan Laboratories\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"titan-labs\"}}]]},\"serversOnNetwork\":[\"infocomm\",\"fulcrumtech\",\"stormtech\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":29.542764105816158,\"minDifficulty\":29.542764105816158,\"moneyAvailable\":1390130615.9735115,\"moneyMax\":16375090499.728695,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":820,\"serverGrowth\":75,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"titan-labs\":[51688432.933336094,18,102,12]},\"filename\":\"hack-server.js\",\"offlineExpGained\":37873.47058466192,\"offlineMoneyMade\":121446313.92822823,\"offlineRunningTime\":57420.741,\"onlineExpGained\":12089.418037575519,\"onlineMoneyMade\":51688432.933336094,\"onlineRunningTime\":18386.41000003183,\"ramUsage\":2.45,\"server\":\"titan-labs\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"microdyne\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"microdyne\",\"httpPortOpen\":true,\"ip\":\"92.9.7.7\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[\"synthetic-muscles.lit\"],\"organizationName\":\"Microdyne Technologies\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"microdyne\"}}]]},\"serversOnNetwork\":[\"taiyang-digital\",\"helios\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":99,\"hackDifficulty\":20.73546031101998,\"minDifficulty\":20.73546031101998,\"moneyAvailable\":10711394097.398046,\"moneyMax\":10711394097.398046,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":825,\"serverGrowth\":73,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"microdyne\":[331680968.59950256,72,132,18]},\"filename\":\"hack-server.js\",\"offlineExpGained\":64264.38413131851,\"offlineMoneyMade\":809586190.443212,\"offlineRunningTime\":57420.742000000006,\"onlineExpGained\":19746.452039396576,\"onlineMoneyMade\":331680968.59950256,\"onlineRunningTime\":17701.010000029335,\"ramUsage\":2.45,\"server\":\"microdyne\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"taiyang-digital\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"taiyang-digital\",\"httpPortOpen\":true,\"ip\":\"97.6.9.1\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[\"A-Green-Tomorrow.lit\",\"brighter-than-the-sun.lit\"],\"organizationName\":\"Taiyang Digital\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"taiyang-digital\"}}]]},\"serversOnNetwork\":[\"icarus\",\"microdyne\",\"applied-energetics\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":28.804195003170737,\"minDifficulty\":28.804195003170737,\"moneyAvailable\":680199354.5668262,\"moneyMax\":16671552808.010447,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":933,\"serverGrowth\":75,\"runningScripts\":[]}},\"galactic-cyber\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"galactic-cyber\",\"httpPortOpen\":true,\"ip\":\"42.3.7.1\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Galactic Cybersystems\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"galactic-cyber\"}}]]},\"serversOnNetwork\":[\"alpha-ent\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":94.5,\"hackDifficulty\":25.623403223993463,\"minDifficulty\":25.623403223993463,\"moneyAvailable\":16776346379.902178,\"moneyMax\":16776346379.902178,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":865,\"serverGrowth\":71,\"runningScripts\":[]}},\"aerocorp\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"aerocorp\",\"httpPortOpen\":true,\"ip\":\"11.4.1.8\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[\"man-and-machine.lit\"],\"organizationName\":\"AeroCorp\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"aerocorp\"}}]]},\"serversOnNetwork\":[\"alpha-ent\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":35.312252568066,\"minDifficulty\":35.312252568066,\"moneyAvailable\":27886180267.204933,\"moneyMax\":27886180267.204933,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":920,\"serverGrowth\":57,\"runningScripts\":[]}},\"omnia\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-386623.cct\",\"type\":\"Algorithmic Stock Trader III\",\"data\":[96,183,175,167,72,72,98,162,175,181,197,74,31,162,107,151,26,140,161,99,137,28,53,14,49,178,179,141,171,93,180,127,160,67,18,49,156,40,77,146,200,153,196,132,101,177,3,98,4,31],\"reward\":{\"type\":3}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-162604-TheBlackHand.cct\",\"type\":\"Sanitize Parentheses in Expression\",\"data\":\"()a)a())a)\",\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"omnia\",\"httpPortOpen\":true,\"ip\":\"16.5.9.9\",\"isConnectedTo\":false,\"maxRam\":64,\"messages\":[\"history-of-synthoids.lit\"],\"organizationName\":\"Omnia Cybersystems\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"omnia\"}}]]},\"serversOnNetwork\":[\"global-pharm\",\"defcomm\",\"univ-energy\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":100,\"minDifficulty\":33.160245424895685,\"moneyAvailable\":753067953.6618301,\"moneyMax\":19587297474.744198,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":939,\"serverGrowth\":63,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"hack-server.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.744,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":2076.010000000303,\"ramUsage\":2.45,\"server\":\"omnia\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":26,\"temporary\":false}}]}},\"zb-def\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"zb-def\",\"httpPortOpen\":true,\"ip\":\"2.2.0.4\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[\"synthetic-muscles.lit\"],\"organizationName\":\"ZB Defense Industries\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"zb-def\"}}]]},\"serversOnNetwork\":[\"solaris\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":85.5,\"hackDifficulty\":52.41145826790992,\"minDifficulty\":16.141882920500688,\"moneyAvailable\":17687081319.393383,\"moneyMax\":18401639404.696877,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":824,\"serverGrowth\":65,\"runningScripts\":[]}},\"applied-energetics\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"applied-energetics\",\"httpPortOpen\":true,\"ip\":\"68.7.8.8\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Applied Energetics\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"applied-energetics\"}}]]},\"serversOnNetwork\":[\"taiyang-digital\",\"vitalife\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":93,\"hackDifficulty\":22.553729338367365,\"minDifficulty\":21.98897475160002,\"moneyAvailable\":17627138584.51659,\"moneyMax\":17627138584.51659,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":841,\"serverGrowth\":74,\"runningScripts\":[]}},\"solaris\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"solaris\",\"httpPortOpen\":true,\"ip\":\"38.0.4.7\",\"isConnectedTo\":false,\"maxRam\":128,\"messages\":[\"A-Green-Tomorrow.lit\",\"the-failed-frontier.lit\"],\"organizationName\":\"Solaris Space Systems\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"solaris\"}}]]},\"serversOnNetwork\":[\"deltaone\",\"infocomm\",\"zb-def\",\"nova-med\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":25.64682784294371,\"minDifficulty\":25.133891286084836,\"moneyAvailable\":15344108446.658855,\"moneyMax\":15964010427.903873,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":816,\"serverGrowth\":74,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"solaris\":[14457941325.277607,2392,780,156]},\"filename\":\"hack-server.js\",\"offlineExpGained\":923761.8706713008,\"offlineMoneyMade\":32953969131.92591,\"offlineRunningTime\":57420.745,\"onlineExpGained\":303962.5106590417,\"onlineMoneyMade\":14457941325.277607,\"onlineRunningTime\":18951.610000033885,\"ramUsage\":2.45,\"server\":\"solaris\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":52,\"temporary\":false}}]}},\"deltaone\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"deltaone\",\"httpPortOpen\":true,\"ip\":\"83.1.5.3\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"DeltaOne\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"deltaone\"}}]]},\"serversOnNetwork\":[\"global-pharm\",\"solaris\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":32.40660348342077,\"minDifficulty\":32.40660348342077,\"moneyAvailable\":29211545692.30678,\"moneyMax\":30999525981.0415,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":808,\"serverGrowth\":69,\"runningScripts\":[]}},\"global-pharm\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-964161.cct\",\"type\":\"Compression I: RLE Compression\",\"data\":\"ffHHTZZZZZZZZZggggggggggggg66xegg55555555ddllW33EEEEEEGGaX60222222222UUUUUUUUUUUUURu\",\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"global-pharm\",\"httpPortOpen\":true,\"ip\":\"12.8.8.5\",\"isConnectedTo\":false,\"maxRam\":8,\"messages\":[\"A-Green-Tomorrow.lit\"],\"organizationName\":\"Global Pharmaceuticals\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"global-pharm\"}}]]},\"serversOnNetwork\":[\"millenium-fitness\",\"omnia\",\"deltaone\",\"unitalife\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":26.036710898448668,\"minDifficulty\":25.0056571468701,\"moneyAvailable\":29656129047.69634,\"moneyMax\":29656129047.69634,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":759,\"serverGrowth\":89,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"global-pharm\":[1765094616.8144126,120,63,15]},\"filename\":\"hack-server.js\",\"offlineExpGained\":43185.4065862039,\"offlineMoneyMade\":3164195840.8558803,\"offlineRunningTime\":57420.746,\"onlineExpGained\":18067.70168253045,\"onlineMoneyMade\":1765094616.8144126,\"onlineRunningTime\":24080.810000052545,\"ramUsage\":2.45,\"server\":\"global-pharm\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":3,\"temporary\":false}}]}},\"nova-med\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"nova-med\",\"httpPortOpen\":true,\"ip\":\"97.2.7.0\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Nova Medical\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"nova-med\"}}]]},\"serversOnNetwork\":[\"solaris\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":99,\"hackDifficulty\":24.372780387298324,\"minDifficulty\":23.40761828396131,\"moneyAvailable\":23321744040.857834,\"moneyMax\":23788178921.67499,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":786,\"serverGrowth\":84,\"runningScripts\":[]}},\"zeus-med\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"zeus-med\",\"httpPortOpen\":true,\"ip\":\"87.1.0.9\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Zeus Medical\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"zeus-med\"}}]]},\"serversOnNetwork\":[\"unitalife\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":32.40660348342077,\"minDifficulty\":32.40660348342077,\"moneyAvailable\":27179541607.72472,\"moneyMax\":27723132439.879215,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":842,\"serverGrowth\":71,\"runningScripts\":[]}},\"unitalife\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-18872.cct\",\"type\":\"Subarray with Maximum Sum\",\"data\":[3,-4,-3,-3,1,-7,-3,-9,10,4],\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"unitalife\",\"httpPortOpen\":true,\"ip\":\"59.6.1.1\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[],\"organizationName\":\"UnitaLife Group\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"unitalife\"}}]]},\"serversOnNetwork\":[\"global-pharm\",\"icarus\",\"zeus-med\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":44.72166442435539,\"minDifficulty\":31.228522679242026,\"moneyAvailable\":21981842263.720333,\"moneyMax\":22869908691.174633,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":803,\"serverGrowth\":78,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"unitalife\":[856805728.2566718,156,247,26]},\"filename\":\"hack-server.js\",\"offlineExpGained\":108807.41226499686,\"offlineMoneyMade\":1786105440.2103775,\"offlineRunningTime\":57420.748,\"onlineExpGained\":39146.68697881596,\"onlineMoneyMade\":856805728.2566718,\"onlineRunningTime\":20716.210000040304,\"ramUsage\":2.45,\"server\":\"unitalife\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"lexo-corp\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-950840-TheBlackHand.cct\",\"type\":\"Algorithmic Stock Trader I\",\"data\":[32,179,6,49,36,152,149,25,73,86,107,52,137,57,128,70,66,49,32,67,11,32,102,8,155,178,135,41,194,12,154,168,7,170,121,154,87,179,92,129,176,195,145,54,186,3],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"lexo-corp\",\"httpPortOpen\":true,\"ip\":\"58.6.6.9\",\"isConnectedTo\":false,\"maxRam\":128,\"messages\":[],\"organizationName\":\"LexoCorp\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"lexo-corp\"}}]]},\"serversOnNetwork\":[\"summit-uni\",\"snap-fitness\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":29.542764105816158,\"minDifficulty\":29.542764105816158,\"moneyAvailable\":13315574612.762548,\"moneyMax\":13315574612.762548,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":739,\"serverGrowth\":63,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"lexo-corp\":[9573560034.579103,1508,884,208]},\"filename\":\"hack-server.js\",\"offlineExpGained\":565661.3031198842,\"offlineMoneyMade\":16718320500.007278,\"offlineRunningTime\":57420.749,\"onlineExpGained\":242939.73389794605,\"onlineMoneyMade\":9573560034.579103,\"onlineRunningTime\":24718.410000054864,\"ramUsage\":2.45,\"server\":\"lexo-corp\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":52,\"temporary\":false}}]}},\"rho-construction\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"rho-construction\",\"httpPortOpen\":true,\"ip\":\"34.5.2.6\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[],\"organizationName\":\"Rho Construction\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"rho-construction\"}}]]},\"serversOnNetwork\":[\"catalyst\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":88.5,\"hackDifficulty\":24.02194052249387,\"minDifficulty\":23.541501712043992,\"moneyAvailable\":12251102829.026543,\"moneyMax\":12496124885.607073,\"numOpenPortsRequired\":3,\"openPortCount\":5,\"requiredHackingSkill\":478,\"serverGrowth\":45,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"rho-construction\":[19843224479.093235,1196,832,78]},\"filename\":\"hack-server.js\",\"offlineExpGained\":311926.77339558717,\"offlineMoneyMade\":27923303509.582832,\"offlineRunningTime\":57420.75,\"onlineExpGained\":166249.12369529542,\"onlineMoneyMade\":19843224479.093235,\"onlineRunningTime\":30661.210000076484,\"ramUsage\":2.45,\"server\":\"rho-construction\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"alpha-ent\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"alpha-ent\",\"httpPortOpen\":true,\"ip\":\"14.3.6.6\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[\"sector-12-crime.lit\"],\"organizationName\":\"Alpha Enterprises\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"alpha-ent\"}}]]},\"serversOnNetwork\":[\"rothman-uni\",\"galactic-cyber\",\"aerocorp\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":26.37746795162155,\"minDifficulty\":26.37746795162155,\"moneyAvailable\":13453244478.404202,\"moneyMax\":13722309367.972286,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":594,\"serverGrowth\":51,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"alpha-ent\":[6559093556.151186,507,429,130]},\"filename\":\"hack-server.js\",\"offlineExpGained\":176261.33184513813,\"offlineMoneyMade\":9156091699.013674,\"offlineRunningTime\":57420.752,\"onlineExpGained\":94700.44129434168,\"onlineMoneyMade\":6559093556.151186,\"onlineRunningTime\":30908.010000077382,\"ramUsage\":2.45,\"server\":\"alpha-ent\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"aevum-police\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-613644-TheBlackHand.cct\",\"type\":\"HammingCodes: Encoded Binary to Integer\",\"data\":\"0100100010000000100000000000000011110111110011110011001100101010\",\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-625819.cct\",\"type\":\"Total Ways to Sum\",\"data\":74,\"reward\":{\"type\":1}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-252036.cct\",\"type\":\"Shortest Path in a Grid\",\"data\":[[0,0,0,0,0,0,0,0,1,0],[0,1,0,0,0,1,0,0,0,1],[0,0,0,0,0,0,0,0,1,0],[0,1,1,0,0,1,1,0,0,1],[0,0,0,0,1,1,0,0,0,0],[0,1,1,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"aevum-police\",\"httpPortOpen\":true,\"ip\":\"70.1.5.5\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[],\"organizationName\":\"Aevum Police Headquarters\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"aevum-police\"}}]]},\"serversOnNetwork\":[\"I.I.I.I\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":24.87372086815971,\"minDifficulty\":24.364486450796516,\"moneyAvailable\":5591661612.358921,\"moneyMax\":5696116709.894261,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":405,\"serverGrowth\":45,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"aevum-police\":[4371345520.313825,444,354,78]},\"filename\":\"hack-server.js\",\"offlineExpGained\":143592.67811901186,\"offlineMoneyMade\":6047070295.46539,\"offlineRunningTime\":57420.753000000004,\"onlineExpGained\":76522.03065542321,\"onlineMoneyMade\":4371345520.313825,\"onlineRunningTime\":30445.010000075697,\"ramUsage\":2.45,\"server\":\"aevum-police\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"rothman-uni\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-70883-TheBlackHand.cct\",\"type\":\"Total Ways to Sum\",\"data\":56,\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-625259.cct\",\"type\":\"Compression III: LZ Compression\",\"data\":\"eljhWWWWWWWWWWWWWWWAstWWWAst40WWWAst408ZAvz46464646rB8ZkktZkktZ\",\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"rothman-uni\",\"httpPortOpen\":true,\"ip\":\"73.4.3.1\",\"isConnectedTo\":false,\"maxRam\":64,\"messages\":[\"secret-societies.lit\",\"the-failed-frontier.lit\",\"tensions-in-tech-race.lit\"],\"organizationName\":\"Rothman University\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"rothman-uni\"}}]]},\"serversOnNetwork\":[\"computek\",\"alpha-ent\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":73.5,\"hackDifficulty\":20.660283768744897,\"minDifficulty\":20.018283768744897,\"moneyAvailable\":0,\"moneyMax\":4394855676.493891,\"numOpenPortsRequired\":3,\"openPortCount\":5,\"requiredHackingSkill\":377,\"serverGrowth\":39,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"rothman-uni\":[21694082720.216362,2626,3406,78]},\"filename\":\"hack-server.js\",\"offlineExpGained\":752537.0108959584,\"offlineMoneyMade\":29408926807.567528,\"offlineRunningTime\":57420.754,\"onlineExpGained\":410778.53756247,\"onlineMoneyMade\":21694082720.216362,\"onlineRunningTime\":31267.61000007869,\"ramUsage\":2.45,\"server\":\"rothman-uni\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":26,\"temporary\":false}}]}},\"zb-institute\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"zb-institute\",\"httpPortOpen\":true,\"ip\":\"73.3.5.0\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[],\"organizationName\":\"ZB Institute of Technology\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"zb-institute\"}}]]},\"serversOnNetwork\":[\"netlink\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":23.634601249139113,\"minDifficulty\":22.6986710396732,\"moneyAvailable\":19503376687.354675,\"moneyMax\":19503376687.354675,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":741,\"serverGrowth\":80,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"zb-institute\":[1679614135.4069314,156,162,42]},\"filename\":\"hack-server.js\",\"offlineExpGained\":74963.13809048908,\"offlineMoneyMade\":2949425953.176745,\"offlineRunningTime\":57420.755000000005,\"onlineExpGained\":32017.030187425284,\"onlineMoneyMade\":1679614135.4069314,\"onlineRunningTime\":24582.010000054368,\"ramUsage\":2.45,\"server\":\"zb-institute\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"summit-uni\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"summit-uni\",\"httpPortOpen\":true,\"ip\":\"0.6.9.0\",\"isConnectedTo\":false,\"maxRam\":64,\"messages\":[\"secret-societies.lit\",\"the-failed-frontier.lit\",\"synthetic-muscles.lit\"],\"organizationName\":\"Summit University\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"summit-uni\"}}]]},\"serversOnNetwork\":[\"netlink\",\"lexo-corp\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":91.5,\"hackDifficulty\":24.822671873243667,\"minDifficulty\":24.822671873243667,\"moneyAvailable\":4887603056.438073,\"moneyMax\":4887603056.438073,\"numOpenPortsRequired\":3,\"openPortCount\":5,\"requiredHackingSkill\":454,\"serverGrowth\":57,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"summit-uni\":[13072272202.339323,1768,1222,338]},\"filename\":\"hack-server.js\",\"offlineExpGained\":511349.3364503764,\"offlineMoneyMade\":18578338554.469906,\"offlineRunningTime\":57420.756,\"onlineExpGained\":269850.4644387309,\"onlineMoneyMade\":13072272202.339323,\"onlineRunningTime\":30359.610000075387,\"ramUsage\":2.45,\"server\":\"summit-uni\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":26,\"temporary\":false}}]}},\"syscore\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"syscore\",\"httpPortOpen\":true,\"ip\":\"13.0.0.2\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"SysCore Securities\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"syscore\"}}]]},\"serversOnNetwork\":[\"computek\",\"millenium-fitness\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":100,\"hackDifficulty\":27.11027790342427,\"minDifficulty\":26.568072345355784,\"moneyAvailable\":7665702323.0969925,\"moneyMax\":7975396696.950111,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":595,\"serverGrowth\":68,\"runningScripts\":[]}},\"catalyst\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-876584.cct\",\"type\":\"Algorithmic Stock Trader I\",\"data\":[39,24,119,181,54,46,180,107,33,34,97,15,51,195,105,17,10,50,151,80,89,133,4,126,130,73,67,194,62,25,8,106],\"reward\":{\"type\":3}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-467561-TheBlackHand.cct\",\"type\":\"Array Jumping Game II\",\"data\":[1,3,6,3,3,3,3,6,3,4,2,2,5,1,0,0,3,4,1,2,1,4,2],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"catalyst\",\"httpPortOpen\":true,\"ip\":\"67.6.8.9\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[\"tensions-in-tech-race.lit\"],\"organizationName\":\"Catalyst Ventures\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"catalyst\"}}]]},\"serversOnNetwork\":[\"crush-fitness\",\"rho-construction\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":99,\"hackDifficulty\":24.384780387298324,\"minDifficulty\":24.372780387298324,\"moneyAvailable\":10081410596.167011,\"moneyMax\":10476084921.967834,\"numOpenPortsRequired\":3,\"openPortCount\":5,\"requiredHackingSkill\":406,\"serverGrowth\":27,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"catalyst\":[5464532791.481395,318,384,102]},\"filename\":\"hack-server.js\",\"offlineExpGained\":129788.97064192983,\"offlineMoneyMade\":7401768013.342905,\"offlineRunningTime\":57420.757000000005,\"onlineExpGained\":69902.4402194637,\"onlineMoneyMade\":5464532791.481395,\"onlineRunningTime\":30750.41000007681,\"ramUsage\":2.45,\"server\":\"catalyst\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"the-hub\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-898855.cct\",\"type\":\"Minimum Path Sum in a Triangle\",\"data\":[[7],[2,5],[3,6,7],[1,6,8,6],[1,1,2,1,7],[2,7,5,6,9,1],[5,9,3,5,9,6,4],[5,3,1,1,4,1,4,1],[5,8,8,6,8,9,2,3,4]],\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"the-hub\",\"httpPortOpen\":true,\"ip\":\"88.5.0.5\",\"isConnectedTo\":false,\"maxRam\":8,\"messages\":[],\"organizationName\":\"The Hub\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"the-hub\"}}]]},\"serversOnNetwork\":[\"neo-net\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":61.5,\"hackDifficulty\":16.52395115555348,\"minDifficulty\":15.509951155553482,\"moneyAvailable\":0,\"moneyMax\":3571464510.7747393,\"numOpenPortsRequired\":2,\"openPortCount\":5,\"requiredHackingSkill\":302,\"serverGrowth\":51,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"the-hub\":[4366932560.459799,447,552,30]},\"filename\":\"hack-server.js\",\"offlineExpGained\":109273.7086027386,\"offlineMoneyMade\":6046166450.497245,\"offlineRunningTime\":57420.758,\"onlineExpGained\":58849.55994719781,\"onlineMoneyMade\":4366932560.459799,\"onlineRunningTime\":30868.010000077236,\"ramUsage\":2.45,\"server\":\"the-hub\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":3,\"temporary\":false}}]}},\"computek\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-40845.cct\",\"type\":\"Algorithmic Stock Trader III\",\"data\":[128,92,29,114,103,43,137,150,137,57,69,109,50,181,8,25,29,80,27,154,173,52,69,17,199,87,193,75,185,77,49],\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"computek\",\"httpPortOpen\":true,\"ip\":\"95.9.3.1\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[\"man-and-machine.lit\"],\"organizationName\":\"CompuTek\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"computek\"}}]]},\"serversOnNetwork\":[\"silver-helix\",\"rothman-uni\",\"syscore\"],\"smtpPortOpen\":true,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":93,\"hackDifficulty\":23.83969406706322,\"minDifficulty\":23.362900185721955,\"moneyAvailable\":4456769102.101413,\"moneyMax\":4545904484.143441,\"numOpenPortsRequired\":3,\"openPortCount\":4,\"requiredHackingSkill\":341,\"serverGrowth\":60,\"runningScripts\":[]}},\"netlink\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"netlink\",\"httpPortOpen\":true,\"ip\":\"22.4.7.9\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[\"simulated-reality.lit\"],\"organizationName\":\"NetLink Technologies\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"netlink\"}}]]},\"serversOnNetwork\":[\"phantasy\",\"zb-institute\",\"summit-uni\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":94.5,\"hackDifficulty\":25.649403223993463,\"minDifficulty\":24.60871645632332,\"moneyAvailable\":4446780978.616808,\"moneyMax\":4626677915.117896,\"numOpenPortsRequired\":3,\"openPortCount\":5,\"requiredHackingSkill\":412,\"serverGrowth\":57,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"netlink\":[3263119779.080201,494,1040,52]},\"filename\":\"hack-server.js\",\"offlineExpGained\":248012.4860499859,\"offlineMoneyMade\":4351239372.759413,\"offlineRunningTime\":57420.759000000005,\"onlineExpGained\":132897.24542734778,\"onlineMoneyMade\":3263119779.080201,\"onlineRunningTime\":30573.010000076163,\"ramUsage\":2.45,\"server\":\"netlink\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"johnson-ortho\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-752460.cct\",\"type\":\"Encryption II: Vigenère Cipher\",\"data\":[\"PRINTENTERTRASHFRAMEPASTE\",\"FLOWCHART\"],\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"johnson-ortho\",\"httpPortOpen\":true,\"ip\":\"58.4.0.7\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Johnson Orthopedics\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"johnson-ortho\"}}]]},\"serversOnNetwork\":[\"phantasy\",\"I.I.I.I\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":58.5,\"hackDifficulty\":16.37044778520208,\"minDifficulty\":14.771382052908079,\"moneyAvailable\":0,\"moneyMax\":1980089904.2400005,\"numOpenPortsRequired\":2,\"openPortCount\":5,\"requiredHackingSkill\":294,\"serverGrowth\":38,\"runningScripts\":[]}},\"n00dles\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-916062-TheBlackHand.cct\",\"type\":\"Proper 2-Coloring of a Graph\",\"data\":[6,[[2,5],[2,3],[0,1],[4,5],[0,2],[1,5]]],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"n00dles\",\"httpPortOpen\":false,\"ip\":\"48.6.2.7\",\"isConnectedTo\":false,\"maxRam\":4,\"messages\":[],\"organizationName\":\"Noodle Bar\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"n00dles\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1.5,\"hackDifficulty\":1.0707437413940992,\"minDifficulty\":1,\"moneyAvailable\":16.424399765183697,\"moneyMax\":1553949.9188258362,\"numOpenPortsRequired\":0,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":3000,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"n00dles\":[94136718.15346825,10979,3150,1061]},\"filename\":\"hack-server.js\",\"offlineExpGained\":254814.6571554839,\"offlineMoneyMade\":128122888.85061474,\"offlineRunningTime\":57420.76,\"onlineExpGained\":140551.46138304097,\"onlineMoneyMade\":94136718.15346825,\"onlineRunningTime\":31695.810000080248,\"ramUsage\":2.45,\"server\":\"n00dles\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":1,\"temporary\":false}}]}},\"foodnstuff\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"foodnstuff\",\"httpPortOpen\":false,\"ip\":\"60.6.5.0\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[\"sector-12-crime.lit\"],\"organizationName\":\"FoodNStuff\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"foodnstuff\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":15,\"hackDifficulty\":4.576738810650749,\"minDifficulty\":4.085364034437735,\"moneyAvailable\":38806336.659832016,\"moneyMax\":41837763.293632925,\"numOpenPortsRequired\":0,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":5,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"foodnstuff\":[268625080.64004093,1746,40326,4254]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1688716.7825261343,\"offlineMoneyMade\":361465987.99548733,\"offlineRunningTime\":57420.761,\"onlineExpGained\":932491.4752060673,\"onlineMoneyMade\":268625080.64004093,\"onlineRunningTime\":31690.61000008023,\"ramUsage\":2.45,\"server\":\"foodnstuff\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"sigma-cosmetics\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"sigma-cosmetics\",\"httpPortOpen\":false,\"ip\":\"35.2.2.2\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[],\"organizationName\":\"Sigma Cosmetics\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"sigma-cosmetics\"}}]]},\"serversOnNetwork\":[\"home\",\"CSEC\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":15,\"hackDifficulty\":4.032039858775473,\"minDifficulty\":3.205853480367964,\"moneyAvailable\":92.15427452238083,\"moneyMax\":44449370.19210316,\"numOpenPortsRequired\":0,\"openPortCount\":0,\"requiredHackingSkill\":5,\"serverGrowth\":10,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"sigma-cosmetics\":[309160802.0200145,2088,36540,3450]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1534003.5541553933,\"offlineMoneyMade\":416442300.5574523,\"offlineRunningTime\":57420.762,\"onlineExpGained\":846983.903072156,\"onlineMoneyMade\":309160802.0200145,\"onlineRunningTime\":31684.810000080208,\"ramUsage\":2.45,\"server\":\"sigma-cosmetics\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"joesguns\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"joesguns\",\"httpPortOpen\":false,\"ip\":\"95.3.2.0\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[],\"organizationName\":\"Joe's Guns\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"joesguns\"}}]]},\"serversOnNetwork\":[\"home\",\"max-hardware\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":22.5,\"hackDifficulty\":41.330465299033776,\"minDifficulty\":5.908552821163229,\"moneyAvailable\":55354942.45320088,\"moneyMax\":58895145.9091903,\"numOpenPortsRequired\":0,\"openPortCount\":0,\"requiredHackingSkill\":10,\"serverGrowth\":20,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"joesguns\":[453461358.8530401,2214,30066,1512]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1602921.9801558969,\"offlineMoneyMade\":613008402.682667,\"offlineRunningTime\":57420.762,\"onlineExpGained\":884136.8223908086,\"onlineMoneyMade\":453461358.8530401,\"onlineRunningTime\":31677.41000008018,\"ramUsage\":2.45,\"server\":\"joesguns\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"zer0\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-995655.cct\",\"type\":\"HammingCodes: Encoded Binary to Integer\",\"data\":\"1111111100110011\",\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"zer0\",\"httpPortOpen\":false,\"ip\":\"80.5.2.5\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[],\"organizationName\":\"ZER0 Nightclub\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"zer0\"}}]]},\"serversOnNetwork\":[\"harakiri-sushi\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":37.5,\"hackDifficulty\":10.77794648953811,\"minDifficulty\":10.62194648953811,\"moneyAvailable\":122411273.28507915,\"moneyMax\":139315261.87284732,\"numOpenPortsRequired\":1,\"openPortCount\":1,\"requiredHackingSkill\":75,\"serverGrowth\":40,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"zer0\":[1727089493.5684187,3939,15210,1053]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1408047.5131192454,\"offlineMoneyMade\":2340016998.385502,\"offlineRunningTime\":57420.764,\"onlineExpGained\":772623.716401437,\"onlineMoneyMade\":1727089493.5684187,\"onlineRunningTime\":31484.210000079478,\"ramUsage\":2.45,\"server\":\"zer0\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"nectar-net\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-496082.cct\",\"type\":\"Compression II: LZ Decompression\",\"data\":\"9OXxlqlhDn04xj3N561i925WNbjY194PyQu431G697nDqybin47\",\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"nectar-net\",\"httpPortOpen\":false,\"ip\":\"73.3.3.4\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[],\"organizationName\":\"Nectar Nightclub Network\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"nectar-net\"}}]]},\"serversOnNetwork\":[\"hong-fang-tea\",\"neo-net\",\"silver-helix\",\"omega-net\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":30,\"hackDifficulty\":8.73563022581785,\"minDifficulty\":8.17072806887547,\"moneyAvailable\":51447914.18603444,\"moneyMax\":55293083.93766367,\"numOpenPortsRequired\":0,\"openPortCount\":0,\"requiredHackingSkill\":20,\"serverGrowth\":25,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"nectar-net\":[419619335.3929599,2094,19956,1380]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1367956.7836077306,\"offlineMoneyMade\":564311581.3853517,\"offlineRunningTime\":57420.765,\"onlineExpGained\":754592.2467410329,\"onlineMoneyMade\":419619335.3929599,\"onlineRunningTime\":31642.610000080054,\"ramUsage\":2.45,\"server\":\"nectar-net\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"neo-net\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neo-net\",\"httpPortOpen\":false,\"ip\":\"83.0.7.1\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[\"the-hidden-world.lit\"],\"organizationName\":\"Neo Nightclub Network\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"neo-net\"}}]]},\"serversOnNetwork\":[\"nectar-net\",\"the-hub\",\"crush-fitness\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":37.5,\"hackDifficulty\":9.669370367702445,\"minDifficulty\":9.409370367702447,\"moneyAvailable\":96587624.95112239,\"moneyMax\":106686296.39876397,\"numOpenPortsRequired\":1,\"openPortCount\":1,\"requiredHackingSkill\":50,\"serverGrowth\":25,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"neo-net\":[1233801162.906055,4069,20046,2171]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1831789.9185314889,\"offlineMoneyMade\":1669587100.2015662,\"offlineRunningTime\":57420.766,\"onlineExpGained\":1005305.762267525,\"onlineMoneyMade\":1233801162.906055,\"onlineRunningTime\":31477.010000079452,\"ramUsage\":2.45,\"server\":\"neo-net\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"silver-helix\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"silver-helix\",\"httpPortOpen\":false,\"ip\":\"0.7.5.0\",\"isConnectedTo\":false,\"maxRam\":64,\"messages\":[\"new-triads.lit\"],\"organizationName\":\"Silver Helix\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"silver-helix\"}}]]},\"serversOnNetwork\":[\"nectar-net\",\"computek\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":45,\"hackDifficulty\":10.55811957632641,\"minDifficulty\":9.813837184799883,\"moneyAvailable\":26.829832882321803,\"moneyMax\":835891571.2370837,\"numOpenPortsRequired\":2,\"openPortCount\":2,\"requiredHackingSkill\":150,\"serverGrowth\":30,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"silver-helix\":[11508765547.678658,4836,14586,1300]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1675686.8222157252,\"offlineMoneyMade\":15650167104.784248,\"offlineRunningTime\":57420.766,\"onlineExpGained\":917644.3977092882,\"onlineMoneyMade\":11508765547.678658,\"onlineRunningTime\":31423.410000079257,\"ramUsage\":2.45,\"server\":\"silver-helix\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":26,\"temporary\":false}}]}},\"hong-fang-tea\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-560250.cct\",\"type\":\"HammingCodes: Integer to Encoded Binary\",\"data\":9002469710332878,\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hong-fang-tea\",\"httpPortOpen\":false,\"ip\":\"50.6.9.5\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[\"brighter-than-the-sun.lit\"],\"organizationName\":\"HongFang Teahouse\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"hong-fang-tea\"}}]]},\"serversOnNetwork\":[\"home\",\"nectar-net\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":22.5,\"hackDifficulty\":7.340104180654282,\"minDifficulty\":6.806104180654283,\"moneyAvailable\":18.213626364343344,\"moneyMax\":55726104.74913894,\"numOpenPortsRequired\":0,\"openPortCount\":0,\"requiredHackingSkill\":30,\"serverGrowth\":20,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"hong-fang-tea\":[382711173.97847825,1836,18528,948]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1010289.824019398,\"offlineMoneyMade\":513361981.0926521,\"offlineRunningTime\":57420.767,\"onlineExpGained\":557683.2840190856,\"onlineMoneyMade\":382711173.97847825,\"onlineRunningTime\":31664.610000080134,\"ramUsage\":2.45,\"server\":\"hong-fang-tea\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"harakiri-sushi\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"harakiri-sushi\",\"httpPortOpen\":false,\"ip\":\"49.9.9.4\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[],\"organizationName\":\"HaraKiri Sushi Bar Network\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"harakiri-sushi\"}}]]},\"serversOnNetwork\":[\"home\",\"zer0\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":22.5,\"hackDifficulty\":5.866574129445164,\"minDifficulty\":5.4498609939191365,\"moneyAvailable\":71462306.92040409,\"moneyMax\":77303252.50800553,\"numOpenPortsRequired\":0,\"openPortCount\":0,\"requiredHackingSkill\":40,\"serverGrowth\":40,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"harakiri-sushi\":[900861516.809695,2736,15864,1224]},\"filename\":\"hack-server.js\",\"offlineExpGained\":939933.0843519487,\"offlineMoneyMade\":1212991785.7842512,\"offlineRunningTime\":57420.768000000004,\"onlineExpGained\":518745.9376123564,\"onlineMoneyMade\":900861516.809695,\"onlineRunningTime\":31651.810000080088,\"ramUsage\":2.45,\"server\":\"harakiri-sushi\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"phantasy\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"phantasy\",\"httpPortOpen\":true,\"ip\":\"90.7.2.0\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[],\"organizationName\":\"Phantasy Club\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"phantasy\"}}]]},\"serversOnNetwork\":[\"max-hardware\",\"netlink\",\"johnson-ortho\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":30,\"hackDifficulty\":6.908079717550944,\"minDifficulty\":6.676079717550945,\"moneyAvailable\":445808837.9931115,\"moneyMax\":445808837.9931115,\"numOpenPortsRequired\":2,\"openPortCount\":5,\"requiredHackingSkill\":100,\"serverGrowth\":35,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"phantasy\":[9355968673.482857,5265,15210,1716]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1337399.8797719309,\"offlineMoneyMade\":13078398875.757332,\"offlineRunningTime\":57420.768000000004,\"onlineExpGained\":714688.7130785077,\"onlineMoneyMade\":9355968673.482857,\"onlineRunningTime\":30652.410000076452,\"ramUsage\":2.45,\"server\":\"phantasy\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"max-hardware\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"max-hardware\",\"httpPortOpen\":false,\"ip\":\"22.3.9.4\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[],\"organizationName\":\"Max Hardware Store\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"max-hardware\"}}]]},\"serversOnNetwork\":[\"joesguns\",\"phantasy\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":22.5,\"hackDifficulty\":5.7098609939191345,\"minDifficulty\":5.4498609939191365,\"moneyAvailable\":171102660.96955794,\"moneyMax\":189468756.14707237,\"numOpenPortsRequired\":1,\"openPortCount\":1,\"requiredHackingSkill\":80,\"serverGrowth\":30,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"max-hardware\":[2660158661.7043333,4381,21853,1651]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1330026.6488684309,\"offlineMoneyMade\":3608711841.1830554,\"offlineRunningTime\":57420.769,\"onlineExpGained\":729682.7315536316,\"onlineMoneyMade\":2660158661.7043333,\"onlineRunningTime\":31471.610000079432,\"ramUsage\":2.45,\"server\":\"max-hardware\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"omega-net\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"omega-net\",\"httpPortOpen\":false,\"ip\":\"28.3.7.3\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[\"the-new-god.lit\"],\"organizationName\":\"Omega Software\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"omega-net\"}}]]},\"serversOnNetwork\":[\"nectar-net\",\"avmnite-02h\"],\"smtpPortOpen\":true,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":51,\"hackDifficulty\":13.04767474497186,\"minDifficulty\":12.058470025070976,\"moneyAvailable\":13.165366833268669,\"moneyMax\":1447678824.5094275,\"numOpenPortsRequired\":2,\"openPortCount\":3,\"requiredHackingSkill\":181,\"serverGrowth\":30,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"omega-net\":[9262857677.110533,2418,5421,377]},\"filename\":\"hack-server.js\",\"offlineExpGained\":736904.0411887978,\"offlineMoneyMade\":12606399204.873339,\"offlineRunningTime\":57420.769,\"onlineExpGained\":403524.8867399258,\"onlineMoneyMade\":9262857677.110533,\"onlineRunningTime\":31401.210000079176,\"ramUsage\":2.45,\"server\":\"omega-net\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"crush-fitness\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-911863-TheBlackHand.cct\",\"type\":\"Encryption I: Caesar Cipher\",\"data\":[\"EMAIL LINUX SHIFT QUEUE POPUP\",16],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"crush-fitness\",\"httpPortOpen\":true,\"ip\":\"15.3.8.4\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Crush Fitness\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"crush-fitness\"}}]]},\"serversOnNetwork\":[\"neo-net\",\"catalyst\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":57,\"hackDifficulty\":14.791196888023135,\"minDifficulty\":14.032812950262672,\"moneyAvailable\":0,\"moneyMax\":760425435.6299298,\"numOpenPortsRequired\":2,\"openPortCount\":5,\"requiredHackingSkill\":270,\"serverGrowth\":27,\"runningScripts\":[]}},\"iron-gym\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-668438.cct\",\"type\":\"Find Largest Prime Factor\",\"data\":138709501,\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"iron-gym\",\"httpPortOpen\":false,\"ip\":\"97.4.7.4\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[],\"organizationName\":\"Iron Gym Network\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"iron-gym\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":45,\"hackDifficulty\":10.71648936359838,\"minDifficulty\":10.21848936359838,\"moneyAvailable\":13.134149819641861,\"moneyMax\":410174149.9375777,\"numOpenPortsRequired\":1,\"openPortCount\":1,\"requiredHackingSkill\":100,\"serverGrowth\":20,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"iron-gym\":[2780097357.7295437,2145,11661,247]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1133608.1458498093,\"offlineMoneyMade\":3768839659.998975,\"offlineRunningTime\":57420.770000000004,\"onlineExpGained\":622317.1856485151,\"onlineMoneyMade\":2780097357.7295437,\"onlineRunningTime\":31492.210000079507,\"ramUsage\":2.45,\"server\":\"iron-gym\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\"millenium-fitness\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-28745.cct\",\"type\":\"Unique Paths in a Grid I\",\"data\":[4,4],\"reward\":{\"type\":1}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-940553.cct\",\"type\":\"Total Ways to Sum\",\"data\":58,\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"millenium-fitness\",\"httpPortOpen\":true,\"ip\":\"4.9.8.6\",\"isConnectedTo\":false,\"maxRam\":128,\"messages\":[],\"organizationName\":\"Millenium Fitness Network\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"millenium-fitness\"}}]]},\"serversOnNetwork\":[\"syscore\",\"global-pharm\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":78,\"hackDifficulty\":19.306796668780503,\"minDifficulty\":18.818740735404894,\"moneyAvailable\":4573640092.769903,\"moneyMax\":5441001116.336959,\"numOpenPortsRequired\":3,\"openPortCount\":5,\"requiredHackingSkill\":507,\"serverGrowth\":34,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"millenium-fitness\":[17294216450.826035,3068,3848,780]},\"filename\":\"hack-server.js\",\"offlineExpGained\":1006560.7254787396,\"offlineMoneyMade\":22967252507.07356,\"offlineRunningTime\":57420.770000000004,\"onlineExpGained\":547132.5191862745,\"onlineMoneyMade\":17294216450.826035,\"onlineRunningTime\":31059.210000077932,\"ramUsage\":2.45,\"server\":\"millenium-fitness\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":52,\"temporary\":false}}]}},\"powerhouse-fitness\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-689697.cct\",\"type\":\"Compression III: LZ Compression\",\"data\":\"wv1Y8kwv1Y8krQ847yrQ847yrQ8rQ8rQ8ra7rQ8ra7rQ06WpC2888888888882WiqO7WiqOOO7WiqO2exB7WiqO2e\",\"reward\":{\"type\":3}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-680811-TheBlackHand.cct\",\"type\":\"Array Jumping Game II\",\"data\":[4,0,3,3,6,4,2,1,0,4,3,1,5],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"powerhouse-fitness\",\"httpPortOpen\":true,\"ip\":\"69.4.2.0\",\"isConnectedTo\":true,\"maxRam\":32,\"messages\":[],\"organizationName\":\"Powerhouse Fitness\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\".\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":88.5,\"hackDifficulty\":88.5,\"minDifficulty\":21.279652985419368,\"moneyAvailable\":682087522.1294605,\"moneyMax\":18457836747.190994,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":968,\"serverGrowth\":60,\"runningScripts\":[]}},\"snap-fitness\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"snap-fitness\",\"httpPortOpen\":true,\"ip\":\"71.3.9.1\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"Snap Fitness\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"snap-fitness\"}}]]},\"serversOnNetwork\":[\"lexo-corp\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":76.5,\"hackDifficulty\":19.594690478347452,\"minDifficulty\":19.594690478347452,\"moneyAvailable\":8696615907.150621,\"moneyMax\":8870548225.293634,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":796,\"serverGrowth\":49,\"runningScripts\":[]}},\"run4theh111z\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-946254.cct\",\"type\":\"Total Ways to Sum II\",\"data\":[146,[2,4,6,8,10,12,13,14,16,17]],\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"run4theh111z\",\"httpPortOpen\":true,\"ip\":\"57.0.5.1\",\"isConnectedTo\":false,\"maxRam\":512,\"messages\":[\"simulated-reality.lit\",\"the-new-god.lit\"],\"organizationName\":\"The Runners\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"run4theh111z\"}}]]},\"serversOnNetwork\":[\"infocomm\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1.416,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":506,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"run4theh111z\":[0,245024,0,234208]},\"filename\":\"hack-server.js\",\"offlineExpGained\":4841866.969388127,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.771,\"onlineExpGained\":2616840.8872192437,\"onlineMoneyMade\":0,\"onlineRunningTime\":31031.01000007783,\"ramUsage\":2.45,\"server\":\"run4theh111z\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":208,\"temporary\":false}}]}},\"I.I.I.I\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"I.I.I.I\",\"httpPortOpen\":true,\"ip\":\"94.4.9.3\",\"isConnectedTo\":false,\"maxRam\":256,\"messages\":[\"democracy-is-dead.lit\"],\"organizationName\":\"I.I.I.I\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"I.I.I.I\"}}]]},\"serversOnNetwork\":[\"johnson-ortho\",\"aevum-police\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1.208,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":3,\"openPortCount\":5,\"requiredHackingSkill\":345,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"I.I.I.I\":[0,178048,0,167856]},\"filename\":\"hack-server.js\",\"offlineExpGained\":3537234.5028543505,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.771,\"onlineExpGained\":1880883.172017458,\"onlineMoneyMade\":0,\"onlineRunningTime\":30530.410000076008,\"ramUsage\":2.45,\"server\":\"I.I.I.I\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":104,\"temporary\":false}}]}},\"avmnite-02h\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-196940-TheBlackHand.cct\",\"type\":\"Subarray with Maximum Sum\",\"data\":[-9,-9,9,-9,-2,9,8,-10,-7,-10,-10,2],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-183708-TheBlackHand.cct\",\"type\":\"Shortest Path in a Grid\",\"data\":[[0,0,0,1,0,1,1,1,1],[0,1,0,0,0,0,0,0,1],[0,0,0,0,1,0,0,0,0],[0,0,0,1,0,0,1,1,0],[0,1,0,1,0,0,0,0,1],[0,1,0,1,1,0,0,0,1],[1,1,0,1,1,0,0,1,0],[1,0,0,1,0,0,1,0,0],[0,0,1,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0]],\"reward\":{\"type\":0,\"name\":\"The Black Hand\"}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"avmnite-02h\",\"httpPortOpen\":true,\"ip\":\"20.9.7.4\",\"isConnectedTo\":false,\"maxRam\":32,\"messages\":[\"democracy-is-dead.lit\"],\"organizationName\":\"NiteSec\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"avmnite-02h\"}}]]},\"serversOnNetwork\":[\"omega-net\"],\"smtpPortOpen\":true,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1.052,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":2,\"openPortCount\":4,\"requiredHackingSkill\":202,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"avmnite-02h\":[0,56030,0,26078]},\"filename\":\"hack-server.js\",\"offlineExpGained\":649123.4086413304,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.772000000004,\"onlineExpGained\":355025.90970345394,\"onlineMoneyMade\":0,\"onlineRunningTime\":31396.41000007916,\"ramUsage\":2.45,\"server\":\"avmnite-02h\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":13,\"temporary\":false}}]}},\".\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-316800.cct\",\"type\":\"Find All Valid Math Expressions\",\"data\":[\"942914\",1],\"reward\":{\"type\":3}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\".\",\"httpPortOpen\":true,\"ip\":\"60.3.9.7\",\"isConnectedTo\":false,\"maxRam\":16,\"messages\":[],\"organizationName\":\".\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\".\"}}]]},\"serversOnNetwork\":[\"helios\",\"powerhouse-fitness\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1.06,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":4,\"openPortCount\":5,\"requiredHackingSkill\":520,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\".\":[0,22914,0,4416]},\"filename\":\"hack-server.js\",\"offlineExpGained\":166150.29897665564,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.773,\"onlineExpGained\":89846.96064628489,\"onlineMoneyMade\":0,\"onlineRunningTime\":31043.810000077876,\"ramUsage\":2.45,\"server\":\".\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":6,\"temporary\":false}}]}},\"CSEC\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"CSEC\",\"httpPortOpen\":false,\"ip\":\"60.3.7.6\",\"isConnectedTo\":false,\"maxRam\":8,\"messages\":[\"democracy-is-dead.lit\"],\"organizationName\":\"CyberSec\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"CSEC\"}}]]},\"serversOnNetwork\":[\"sigma-cosmetics\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1.09,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":1,\"openPortCount\":1,\"requiredHackingSkill\":60,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"CSEC\":[0,40302,0,4443]},\"filename\":\"hack-server.js\",\"offlineExpGained\":234548.73421252117,\"offlineMoneyMade\":0,\"offlineRunningTime\":57420.773,\"onlineExpGained\":128586.23866563446,\"onlineMoneyMade\":0,\"onlineRunningTime\":31470.410000079428,\"ramUsage\":2.45,\"server\":\"CSEC\",\"scriptKey\":\"hack-server.js*[]\",\"title\":\"hack-server.js \",\"threads\":3,\"temporary\":false}}]}},\"The-Cave\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-779999.cct\",\"type\":\"Generate IP Addresses\",\"data\":\"10362241207\",\"reward\":{\"type\":1}}},{\"ctor\":\"CodingContract\",\"data\":{\"tries\":0,\"fn\":\"contract-932680.cct\",\"type\":\"Find Largest Prime Factor\",\"data\":291426777,\"reward\":{\"type\":1}}}],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"The-Cave\",\"httpPortOpen\":true,\"ip\":\"83.4.8.1\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[\"alpha-omega.lit\"],\"organizationName\":\"Helios\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"The-Cave\"}}]]},\"serversOnNetwork\":[\"clarkinc\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":925,\"serverGrowth\":1,\"runningScripts\":[]}},\"w0r1d_d43m0n\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":false,\"hostname\":\"w0r1d_d43m0n\",\"httpPortOpen\":false,\"ip\":\"74.2.8.2\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"w0r1d_d43m0n\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":3958.436289188617,\"serverGrowth\":1,\"runningScripts\":[]}},\"darkweb\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":true,\"hasAdminRights\":true,\"hostname\":\"darkweb\",\"httpPortOpen\":true,\"ip\":\"59.3.0.7\",\"isConnectedTo\":false,\"maxRam\":0,\"messages\":[],\"organizationName\":\"darkweb\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-server.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"function computeTargetLevel(currentLevel, targetLevel, a, b) {\\n  return (a * currentLevel + b * targetLevel) / (a + b);\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('getServerSecurityLevel');\\n  ns.disableLog('getServerMinSecurityLevel');\\n  ns.disableLog('getServerMoneyAvailable');\\n  ns.disableLog('getServerMaxMoney');\\n\\n  const decimalPlaces = 3;\\n  let a = 10;\\n  let b = 1;\\n\\n  const targetHost = ns.getHostname();\\n\\n  while (true) {\\n    const currentLevel = ns.getServerSecurityLevel(targetHost);\\n    const minLevel = ns.getServerMinSecurityLevel(targetHost);\\n    const targetSecurityLevel = computeTargetLevel(currentLevel, minLevel, a, b);\\n    const currentMoney = ns.getServerMoneyAvailable(targetHost);\\n    const maxMoney = ns.getServerMaxMoney(targetHost);\\n    const targetMoneyAmount = computeTargetLevel(currentMoney, maxMoney, a, b);\\n\\n    ns.print(`a: ${a}, b: ${b}`);\\n    ns.print('Security\\\\tcurrent: ' + currentLevel.toFixed(decimalPlaces)\\n      + ', minimum: ' + minLevel.toFixed(decimalPlaces)\\n      + ', target: ' + targetSecurityLevel.toFixed(decimalPlaces));\\n    ns.print('Money\\\\tcurrent: ' + currentMoney.toFixed(decimalPlaces)\\n      + ', maximum: ' + maxMoney.toFixed(decimalPlaces)\\n      + ', target: ' + targetMoneyAmount.toFixed(decimalPlaces));\\n\\n    for (let i = 0; i < 25; i++) {\\n      while (ns.getServerSecurityLevel(targetHost) > 1.05 * targetSecurityLevel) {\\n        ns.print('--> Security level: ' + ns.getServerSecurityLevel(targetHost).toFixed(decimalPlaces)\\n          + ' > ' + targetSecurityLevel.toFixed(decimalPlaces));\\n        await ns.weaken(targetHost);\\n      }\\n\\n      while (ns.getServerMoneyAvailable(targetHost) < 0.95 * targetMoneyAmount) {\\n        ns.print('--> Money: ' + ns.getServerMoneyAvailable(targetHost).toFixed(decimalPlaces)\\n          + ' < ' + targetMoneyAmount.toFixed(decimalPlaces));\\n        await ns.grow(targetHost);\\n      }\\n\\n      await ns.hack(targetHost);\\n    }\\n\\n    if (a > 1) {\\n      a--;\\n    } else if (b < 100) {\\n      b++;\\n    }\\n  }\\n}\\n\",\"filename\":\"hack-server.js\",\"server\":\"darkweb\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":true,\"sqlPortOpen\":true,\"sshPortOpen\":true,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":false,\"backdoorInstalled\":true,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":5,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[]}},\"hacknet-server-0\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-0\",\"httpPortOpen\":false,\"ip\":\"2.3.5.6\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-1\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-1\",\"httpPortOpen\":false,\"ip\":\"9.6.9.7\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-2\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-2\",\"httpPortOpen\":false,\"ip\":\"63.9.7.3\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-3\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-3\",\"httpPortOpen\":false,\"ip\":\"57.6.2.1\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-4\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-4\",\"httpPortOpen\":false,\"ip\":\"41.6.1.4\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-5\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-5\",\"httpPortOpen\":false,\"ip\":\"64.4.0.0\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-6\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-6\",\"httpPortOpen\":false,\"ip\":\"76.0.6.9\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-7\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-7\",\"httpPortOpen\":false,\"ip\":\"95.9.3.2\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-8\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-8\",\"httpPortOpen\":false,\"ip\":\"10.1.4.0\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-9\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-9\",\"httpPortOpen\":false,\"ip\":\"42.1.3.5\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-10\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-10\",\"httpPortOpen\":false,\"ip\":\"25.3.2.7\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-11\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-11\",\"httpPortOpen\":false,\"ip\":\"6.4.8.4\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-12\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-12\",\"httpPortOpen\":false,\"ip\":\"32.1.2.5\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-13\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-13\",\"httpPortOpen\":false,\"ip\":\"47.1.2.8\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-14\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-14\",\"httpPortOpen\":false,\"ip\":\"6.2.5.8\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-15\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-15\",\"httpPortOpen\":false,\"ip\":\"71.7.0.5\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-16\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-16\",\"httpPortOpen\":false,\"ip\":\"5.8.3.6\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-17\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-17\",\"httpPortOpen\":false,\"ip\":\"49.0.4.4\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-18\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-18\",\"httpPortOpen\":false,\"ip\":\"29.3.7.6\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"hacknet-server-19\":{\"ctor\":\"HacknetServer\",\"data\":{\"contracts\":[],\"cpuCores\":128,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"hacknet-server-19\",\"httpPortOpen\":false,\"ip\":\"69.1.7.3\",\"isConnectedTo\":false,\"maxRam\":8192,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"cache\":15,\"cores\":128,\"hashCapacity\":1048576,\"hashRate\":71.81698395308464,\"level\":300,\"onlineTimeSeconds\":89124.80000007922,\"totalHashesGenerated\":6400674.33142018,\"runningScripts\":[]}},\"neighbor-0\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-0\",\"httpPortOpen\":false,\"ip\":\"91.5.2.5\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-0\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-0\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-1\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-1\",\"httpPortOpen\":false,\"ip\":\"41.3.1.5\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-1\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"The-Cave\":[0,0,169125,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":1497892.1799303733,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-1\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-2\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-2\",\"httpPortOpen\":false,\"ip\":\"8.1.8.2\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-2\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"the-hub\":[0,169125,0,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":2434074.792386857,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-2\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-3\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-3\",\"httpPortOpen\":false,\"ip\":\"80.7.3.2\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-3\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"johnson-ortho\":[0,169125,0,0],\"The-Cave\":[0,0,169125,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":3829837.96004925,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-3\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-4\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-4\",\"httpPortOpen\":false,\"ip\":\"32.9.4.0\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-4\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-4\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-5\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-5\",\"httpPortOpen\":false,\"ip\":\"58.5.5.3\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-5\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"joesguns\":[52359409.399656385,169125,0,0],\"sigma-cosmetics\":[40252815.672141545,169125,0,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":7829890.940545134,\"onlineMoneyMade\":92612225.07179794,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-5\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-6\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-6\",\"httpPortOpen\":false,\"ip\":\"0.3.5.0\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-6\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-6\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-7\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-7\",\"httpPortOpen\":false,\"ip\":\"80.0.4.6\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-7\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"n00dles\":[1543588.2445149755,169125,0,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":1565978.1881090268,\"onlineMoneyMade\":1543588.2445149755,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-7\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-8\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-8\",\"httpPortOpen\":false,\"ip\":\"62.6.3.4\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-8\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-8\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-9\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-9\",\"httpPortOpen\":false,\"ip\":\"98.0.0.1\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-9\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":0,\"onlineMoneyMade\":0,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-9\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-10\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-10\",\"httpPortOpen\":false,\"ip\":\"39.3.8.0\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-10\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"silver-helix\":[709246034.6952225,169125,0,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":7489460.899651867,\"onlineMoneyMade\":709246034.6952225,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-10\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-11\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-11\",\"httpPortOpen\":false,\"ip\":\"72.3.6.3\",\"isConnectedTo\":false,\"maxRam\":524288,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-11\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"CSEC\":[0,0,169125,0],\"omega-net\":[1303744955.7476473,169125,0,0],\"joesguns\":[0,0,169125,0],\"iron-gym\":[385156409.9855174,169125,0,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":0,\"offlineMoneyMade\":0,\"offlineRunningTime\":0.01,\"onlineExpGained\":21719436.608990412,\"onlineMoneyMade\":1688901365.7331648,\"onlineRunningTime\":57.21000000000028,\"ramUsage\":3.1,\"server\":\"neighbor-11\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":169125,\"temporary\":false}}]}},\"neighbor-12\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-12\",\"httpPortOpen\":false,\"ip\":\"23.5.8.7\",\"isConnectedTo\":false,\"maxRam\":32768,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-12\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"harakiri-sushi\":[0,0,0,10570],\"applied-energetics\":[0,0,0,10570],\"omega-net\":[0,0,0,10570],\"millenium-fitness\":[0,0,0,10570],\"the-hub\":[0,0,0,10570],\"hong-fang-tea\":[0,0,0,21140],\"johnson-ortho\":[1758263169.1209176,10570,0,10570],\"deltaone\":[0,0,0,10570],\"catalyst\":[8912526560.400957,10570,0,0],\".\":[0,0,10570,0],\"zeus-med\":[0,0,0,10570],\"sigma-cosmetics\":[0,0,0,10570],\"univ-energy\":[0,0,10570,0],\"nectar-net\":[0,0,0,10570],\"zb-institute\":[0,0,0,10570],\"aevum-police\":[0,0,0,10570],\"syscore\":[7515394434.408816,10570,0,0],\"aerocorp\":[27886180267.204933,10570,0,0],\"global-pharm\":[0,0,0,10570]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":55078248.80310435,\"offlineMoneyMade\":215530534932.72394,\"offlineRunningTime\":57420.785,\"onlineExpGained\":13812540.54416198,\"onlineMoneyMade\":46072364431.13562,\"onlineRunningTime\":9263.209999998639,\"ramUsage\":3.1,\"server\":\"neighbor-12\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":10570,\"temporary\":false}}]}},\"neighbor-13\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-13\",\"httpPortOpen\":false,\"ip\":\"83.5.4.1\",\"isConnectedTo\":false,\"maxRam\":32768,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-13\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"global-pharm\":[0,0,0,10570],\"microdyne\":[0,0,0,10570],\"lexo-corp\":[0,0,10570,0],\"computek\":[0,0,0,10570],\"zb-institute\":[18180152995.227047,10570,0,0],\"zb-def\":[0,0,10570,0],\"summit-uni\":[0,0,0,21140],\"netlink\":[0,0,10570,0],\"helios\":[0,0,10570,0],\"applied-energetics\":[0,0,10570,0],\"titan-labs\":[0,0,0,10570],\"max-hardware\":[166414900.54190522,10570,0,0],\"the-hub\":[0,0,0,10570],\"syscore\":[0,0,0,10570],\"snap-fitness\":[0,0,0,10570],\"nectar-net\":[0,0,0,10570],\"foodnstuff\":[0,0,0,10570]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":55434578.55004992,\"offlineMoneyMade\":85826844583.35986,\"offlineRunningTime\":57420.786,\"onlineExpGained\":13901900.787978185,\"onlineMoneyMade\":18346567895.76895,\"onlineRunningTime\":9263.209999998639,\"ramUsage\":3.1,\"server\":\"neighbor-13\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":10570,\"temporary\":false}}]}},\"neighbor-14\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-14\",\"httpPortOpen\":false,\"ip\":\"6.3.2.0\",\"isConnectedTo\":false,\"maxRam\":32768,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-14\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\".\":[0,0,10570,0],\"rho-construction\":[0,0,0,10570],\"snap-fitness\":[0,0,0,10570],\"darkweb\":[0,0,31710,0],\"vitalife\":[0,0,21140,0],\"run4theh111z\":[0,0,10570,0],\"omega-net\":[0,0,10570,0],\"harakiri-sushi\":[0,0,0,10570],\"netlink\":[3996062812.0167155,10570,0,10570],\"icarus\":[17075425617.526506,10570,0,10570],\"foodnstuff\":[0,0,10570,0],\"sigma-cosmetics\":[0,0,0,10570],\"helios\":[0,0,0,10570],\"nova-med\":[0,0,0,10570],\"galactic-cyber\":[0,0,0,10570],\"johnson-ortho\":[1980089904.2400005,10570,10570,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":48341939.7121349,\"offlineMoneyMade\":109195085276.01988,\"offlineRunningTime\":57420.787000000004,\"onlineExpGained\":12706175.620723251,\"onlineMoneyMade\":23051578333.783222,\"onlineRunningTime\":8367.809999995381,\"ramUsage\":3.1,\"server\":\"neighbor-14\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":10570,\"temporary\":false}}]}},\"neighbor-15\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-15\",\"httpPortOpen\":false,\"ip\":\"16.2.9.4\",\"isConnectedTo\":false,\"maxRam\":32768,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-15\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"solaris\":[0,0,10570,0],\"aevum-police\":[0,0,0,10570],\"foodnstuff\":[0,0,10570,0],\"silver-helix\":[0,0,10570,0],\"lexo-corp\":[13236050609.008593,10570,10570,10570],\"millenium-fitness\":[0,0,0,10570],\"the-hub\":[3166577199.269731,10570,10570,0],\"neo-net\":[81283448.79860146,10570,0,0],\"helios\":[0,0,0,10570],\"galactic-cyber\":[0,0,10570,0],\"darkweb\":[0,0,10570,0],\"johnson-ortho\":[0,0,0,10570],\"harakiri-sushi\":[0,0,0,10570],\"max-hardware\":[0,0,0,10570],\"deltaone\":[0,0,0,10570],\"vitalife\":[0,0,10570,0],\"CSEC\":[0,0,10570,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":50479912.475816526,\"offlineMoneyMade\":89857009406.80713,\"offlineRunningTime\":57420.787000000004,\"onlineExpGained\":12752983.36748412,\"onlineMoneyMade\":16483911257.076925,\"onlineRunningTime\":7957.609999994954,\"ramUsage\":3.1,\"server\":\"neighbor-15\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":10570,\"temporary\":false}}]}},\"neighbor-16\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-16\",\"httpPortOpen\":false,\"ip\":\"93.8.0.7\",\"isConnectedTo\":false,\"maxRam\":32768,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-16\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"galactic-cyber\":[16124900403.596865,10570,0,0],\"global-pharm\":[25555623770.759373,10570,0,0],\"sigma-cosmetics\":[0,0,0,10570],\"lexo-corp\":[0,0,0,10570],\"aerocorp\":[0,0,0,10570],\"netlink\":[0,0,0,10570],\"crush-fitness\":[745515132.9705194,10570,10570,0],\"johnson-ortho\":[0,0,0,10570],\"silver-helix\":[0,0,0,10570],\"darkweb\":[0,0,10570,0],\"summit-uni\":[0,0,0,10570],\"zeus-med\":[27179541607.72472,10570,0,0],\"microdyne\":[0,0,10570,0],\"zer0\":[0,0,10570,0],\"foodnstuff\":[0,0,10570,0],\"hong-fang-tea\":[0,0,0,10570],\"icarus\":[0,0,10570,0],\"max-hardware\":[0,0,0,10570],\"computek\":[0,0,10570,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":51022890.57421931,\"offlineMoneyMade\":410641503952.1553,\"offlineRunningTime\":57420.788,\"onlineExpGained\":12795535.864539456,\"onlineMoneyMade\":69605580915.05148,\"onlineRunningTime\":7357.2099999955,\"ramUsage\":3.1,\"server\":\"neighbor-16\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":10570,\"temporary\":false}}]}},\"neighbor-17\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-17\",\"httpPortOpen\":false,\"ip\":\"38.6.8.8\",\"isConnectedTo\":false,\"maxRam\":32768,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-17\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"helios\":[0,0,0,10570],\"neo-net\":[0,0,10570,0],\"omega-net\":[0,0,0,10570],\"max-hardware\":[0,0,0,10570],\"computek\":[0,0,10570,0],\"darkweb\":[0,0,10570,0],\"johnson-ortho\":[0,0,10570,10570],\"rothman-uni\":[0,0,10570,0],\"n00dles\":[1360822.9421918264,10570,0,0],\"summit-uni\":[0,0,10570,0],\"vitalife\":[0,0,0,10570],\"zer0\":[0,0,0,10570],\"silver-helix\":[0,0,0,10570],\"zb-institute\":[19446811862.15331,10570,10570,10570],\"catalyst\":[0,0,0,10570],\"nectar-net\":[0,0,10570,0],\"nova-med\":[0,0,10570,0],\"the-hub\":[3391486776.498046,10570,0,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":50870179.11721616,\"offlineMoneyMade\":114735440960.66055,\"offlineRunningTime\":57420.789000000004,\"onlineExpGained\":13365739.325080955,\"onlineMoneyMade\":22839659461.593548,\"onlineRunningTime\":7357.2099999955,\"ramUsage\":3.1,\"server\":\"neighbor-17\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":10570,\"temporary\":false}}]}},\"neighbor-18\":{\"ctor\":\"Server\",\"data\":{\"contracts\":[],\"cpuCores\":1,\"ftpPortOpen\":false,\"hasAdminRights\":true,\"hostname\":\"neighbor-18\",\"httpPortOpen\":false,\"ip\":\"79.1.0.2\",\"isConnectedTo\":false,\"maxRam\":32768,\"messages\":[],\"organizationName\":\"\",\"programs\":[],\"scripts\":{\"ctor\":\"JSONMap\",\"data\":[[\"hack-remote.js\",{\"ctor\":\"Script\",\"data\":{\"code\":\"/** @param {NS} ns */\\nfunction buildServerList(ns) {\\n  let serversToScan = ['home'];\\n  let serverList = [];\\n\\n  while (serversToScan.length > 0) {\\n    const server = serversToScan.pop();\\n    const neighbors = ns.scan(server);\\n\\n    for (const neighbor of neighbors) {\\n      if (neighbor != 'home' && !serverList.includes(neighbor)) {\\n        serversToScan.push(neighbor);\\n        serverList.push(neighbor);\\n      }\\n    }\\n  }\\n\\n  return serverList;\\n}\\n\\n/** @param {NS} ns */\\nfunction isAccessible(ns, server) {\\n  return ns.hasRootAccess(server) && ns.getServerRequiredHackingLevel(server) <= ns.getHackingLevel();\\n}\\n\\n/** @param {NS} ns */\\nfunction hasMoney(ns, server) {\\n  const currentMoney = ns.getServerMoneyAvailable(server);\\n  const maxMoney = ns.getServerMaxMoney(server);\\n  const target = 0.90 * maxMoney;\\n\\n  ns.print(`[${server}] Money -> current: ${currentMoney.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentMoney > target;\\n}\\n\\n/** @param {NS} ns */\\nfunction hasSecurityLevel(ns, server) {\\n  const currentLevel = ns.getServerSecurityLevel(server);\\n  const minLevel = ns.getServerMinSecurityLevel(server);\\n  const target = 1.10 * minLevel;\\n\\n  ns.print(`[${server}] Security level -> current: ${currentLevel.toFixed(2)}, target: ${target.toFixed(2)}`);\\n  return currentLevel < target;\\n}\\n\\n/** @param {NS} ns */\\nexport async function main(ns) {\\n  ns.disableLog('ALL');\\n  ns.enableLog('grow');\\n  ns.enableLog('hack');\\n  ns.enableLog('weaken');\\n\\n  const runningScript = ns.getRunningScript();\\n  const numThreads = runningScript.threads;\\n\\n  while (true) {\\n    await ns.sleep(500);\\n\\n    const fullServerList = buildServerList(ns);\\n    const filteredServerList = fullServerList.filter(name => !name.startsWith('neighbor-') && !name.startsWith('hacknet-'));\\n\\n    const serverIndex = Math.floor(Math.random() * filteredServerList.length);\\n    const server = filteredServerList[serverIndex];\\n\\n    if (!isAccessible(ns, server)) {\\n      continue;\\n    }\\n\\n    if (!hasSecurityLevel(ns, server)) {\\n      await ns.weaken(server, { threads: numThreads });\\n      ns.print(`[${server}] Security level weakened to ${ns.getServerSecurityLevel(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    if (!hasMoney(ns, server)) {\\n      await ns.grow(server, { threads: numThreads });\\n      ns.print(`[${server}] Money grown to ${ns.getServerMoneyAvailable(server).toFixed(2)}`);\\n      continue;\\n    }\\n\\n    ns.print(`[${server}] Hacking`);\\n    await ns.hack(server, { threads: numThreads });\\n  }\\n}\\n\",\"filename\":\"hack-remote.js\",\"server\":\"neighbor-18\"}}]]},\"serversOnNetwork\":[\"home\"],\"smtpPortOpen\":false,\"sqlPortOpen\":false,\"sshPortOpen\":false,\"textFiles\":{\"ctor\":\"JSONMap\",\"data\":[]},\"purchasedByPlayer\":true,\"backdoorInstalled\":false,\"baseDifficulty\":1,\"hackDifficulty\":1,\"minDifficulty\":1,\"moneyAvailable\":0,\"moneyMax\":0,\"numOpenPortsRequired\":5,\"openPortCount\":0,\"requiredHackingSkill\":1,\"serverGrowth\":1,\"runningScripts\":[{\"ctor\":\"RunningScript\",\"data\":{\"args\":[],\"dataMap\":{\"millenium-fitness\":[0,0,10570,0],\"zb-institute\":[0,10570,10570,10570],\"I.I.I.I\":[0,0,0,10570],\".\":[0,0,10570,0],\"zeus-med\":[0,0,10570,0],\"max-hardware\":[0,0,0,10570],\"silver-helix\":[0,0,10570,0],\"solaris\":[0,0,0,10570],\"microdyne\":[9986620106.964216,10570,0,0],\"catalyst\":[0,0,10570,0],\"aerocorp\":[0,0,0,10570],\"deltaone\":[0,0,0,10570],\"vitalife\":[0,0,10570,0],\"foodnstuff\":[0,0,10570,0],\"rothman-uni\":[3927658385.6689878,10570,0,0]},\"filename\":\"hack-remote.js\",\"offlineExpGained\":42012863.073458046,\"offlineMoneyMade\":60026662198.923775,\"offlineRunningTime\":57420.789000000004,\"onlineExpGained\":11246624.971725235,\"onlineMoneyMade\":13914278492.633204,\"onlineRunningTime\":7222.209999995623,\"ramUsage\":3.1,\"server\":\"neighbor-18\",\"scriptKey\":\"hack-remote.js*[]\",\"title\":\"hack-remote.js \",\"threads\":10570,\"temporary\":false}}]}}}","CompaniesSave":"{\"ECorp\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"MegaCorp\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Bachman & Associates\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Blade Industries\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"NWO\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Clarke Incorporated\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"OmniTek Incorporated\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Four Sigma\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"KuaiGong International\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Fulcrum Technologies\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Storm Technologies\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"DefComm\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Helios Labs\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"VitaLife\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Icarus Microsystems\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Universal Energy\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Galactic Cybersystems\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"AeroCorp\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Omnia Cybersystems\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Solaris Space Systems\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"DeltaOne\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Global Pharmaceuticals\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Nova Medical\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Central Intelligence Agency\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"National Security Agency\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Watchdog Security\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"LexoCorp\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Rho Construction\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Alpha Enterprises\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Aevum Police Headquarters\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"SysCore Securities\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"CompuTek\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"NetLink Technologies\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Carmichael Security\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"FoodNStuff\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Joe's Guns\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Omega Software\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}},\"Noodle Bar\":{\"ctor\":\"Company\",\"data\":{\"favor\":0,\"playerReputation\":0}}}","FactionsSave":"{\"Illuminati\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"known\",\"playerReputation\":0}},\"Daedalus\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"known\",\"playerReputation\":0}},\"The Covenant\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"known\",\"playerReputation\":0}},\"ECorp\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"MegaCorp\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Bachman & Associates\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Blade Industries\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"NWO\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Clarke Incorporated\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"OmniTek Incorporated\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Four Sigma\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"KuaiGong International\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Fulcrum Secret Technologies\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"BitRunners\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"known\",\"playerReputation\":0}},\"The Black Hand\":{\"ctor\":\"Faction\",\"data\":{\"favor\":1,\"discovery\":\"known\",\"playerReputation\":636896.2690587642}},\"NiteSec\":{\"ctor\":\"Faction\",\"data\":{\"favor\":66.4533,\"discovery\":\"known\",\"playerReputation\":0}},\"Aevum\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Chongqing\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Ishima\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"New Tokyo\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Sector-12\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"known\",\"playerReputation\":0}},\"Volhaven\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Speakers for the Dead\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"The Dark Army\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"The Syndicate\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"known\",\"playerReputation\":0}},\"Silhouette\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Tetrads\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Slum Snakes\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"known\",\"playerReputation\":0}},\"Netburners\":{\"ctor\":\"Faction\",\"data\":{\"favor\":28.1875,\"discovery\":\"known\",\"playerReputation\":0}},\"Tian Di Hui\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"CyberSec\":{\"ctor\":\"Faction\",\"data\":{\"favor\":40.3495,\"discovery\":\"known\",\"playerReputation\":0}},\"Bladeburners\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"rumored\",\"playerReputation\":0}},\"Church of the Machine God\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}},\"Shadows of Anarchy\":{\"ctor\":\"Faction\",\"data\":{\"favor\":0,\"discovery\":\"unknown\",\"playerReputation\":0}}}","AliasesSave":"{}","GlobalAliasesSave":"{}","StockMarketSave":"{\"lastUpdate\":0,\"Orders\":{},\"storedCycles\":0,\"ticksUntilCycle\":0}","SettingsSave":"{\"ActiveScriptsServerPageSize\":100,\"ActiveScriptsScriptPageSize\":100,\"AutoexecScript\":\"\",\"AutosaveInterval\":60,\"CodeInstructionRunTime\":25,\"DisableASCIIArt\":false,\"DisableHotkeys\":false,\"DisableTextEffects\":false,\"DisableOverviewProgressBars\":false,\"EnableBashHotkeys\":true,\"EnableHistorySearch\":true,\"TimestampsFormat\":\"\",\"Locale\":\"en\",\"MaxRecentScriptsCapacity\":50,\"MaxLogCapacity\":500,\"MaxPortCapacity\":50,\"MaxTerminalCapacity\":500,\"RemoteFileApiPort\":0,\"SaveGameOnFileSave\":true,\"SuppressBuyAugmentationConfirmation\":false,\"SuppressFactionInvites\":false,\"SuppressMessages\":false,\"SuppressTravelConfirmation\":false,\"SuppressBladeburnerPopup\":false,\"SuppressTIXPopup\":false,\"SuppressSavedGameToast\":false,\"SuppressAutosaveDisabledWarnings\":false,\"UseIEC60027_2\":false,\"ShowMiddleNullTimeUnit\":false,\"ExcludeRunningScriptsFromSave\":false,\"IsSidebarOpened\":true,\"theme\":{\"primarylight\":\"#0f0\",\"primary\":\"#0c0\",\"primarydark\":\"#090\",\"successlight\":\"#0f0\",\"success\":\"#0c0\",\"successdark\":\"#090\",\"errorlight\":\"#f00\",\"error\":\"#c00\",\"errordark\":\"#900\",\"secondarylight\":\"#AAA\",\"secondary\":\"#888\",\"secondarydark\":\"#666\",\"warninglight\":\"#ff0\",\"warning\":\"#cc0\",\"warningdark\":\"#990\",\"infolight\":\"#69f\",\"info\":\"#36c\",\"infodark\":\"#039\",\"welllight\":\"#444\",\"well\":\"#222\",\"white\":\"#fff\",\"black\":\"#000\",\"hp\":\"#dd3434\",\"money\":\"#ffd700\",\"hack\":\"#adff2f\",\"combat\":\"#faffdf\",\"cha\":\"#a671d1\",\"int\":\"#6495ed\",\"rep\":\"#faffdf\",\"disabled\":\"#66cfbc\",\"backgroundprimary\":\"#000\",\"backgroundsecondary\":\"#000\",\"button\":\"#333\"},\"styles\":{\"lineHeight\":1.5,\"fontFamily\":\"Lucida Console, Lucida Sans Unicode, Fira Mono, Consolas, Courier New, Courier, monospace, Times New Roman\"},\"overview\":{\"x\":0,\"y\":0,\"opened\":true},\"EditorTheme\":{\"common\":{\"accent\":\"B5CEA8\",\"bg\":\"1E1E1E\",\"fg\":\"D4D4D4\"},\"syntax\":{\"tag\":\"569CD6\",\"entity\":\"569CD6\",\"string\":\"CE9178\",\"regexp\":\"646695\",\"markup\":\"569CD6\",\"keyword\":\"569CD6\",\"comment\":\"6A9955\",\"constant\":\"569CD6\",\"error\":\"F44747\"},\"ui\":{\"line\":\"1E1E1E\",\"panel\":{\"bg\":\"252526\",\"selected\":\"252526\",\"border\":\"1E1E1E\"},\"selection\":{\"bg\":\"ADD6FF26\"}},\"base\":\"vs-dark\",\"inherit\":true},\"OwnedAugmentationsOrder\":0,\"PurchaseAugmentationsOrder\":0,\"MonacoTheme\":\"monokai\",\"MonacoInsertSpaces\":false,\"MonacoTabSize\":2,\"MonacoDetectIndentation\":false,\"MonacoFontFamily\":\"Lucida Console\",\"MonacoFontSize\":20,\"MonacoFontLigatures\":false,\"MonacoVim\":false,\"MonacoWordWrap\":\"off\",\"MonacoCursorStyle\":\"line\",\"MonacoCursorBlinking\":\"blink\",\"hideTrailingDecimalZeros\":false,\"hideThousandsSeparator\":false,\"useEngineeringNotation\":false,\"disableSuffixes\":false}","VersionSave":"36","AllGangsSave":"","LastExportBonus":"1704046932781","StaneksGiftSave":"{\"ctor\":\"StaneksGift\",\"data\":{\"fragments\":[],\"isBonusCharging\":false,\"storedCycles\":0}}"}}